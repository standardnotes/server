/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-bundle",
factory: function (require) {
var plugin=(()=>{var Jv=Object.create,qn=Object.defineProperty,eb=Object.defineProperties,tb=Object.getOwnPropertyDescriptor,rb=Object.getOwnPropertyDescriptors,nb=Object.getOwnPropertyNames,td=Object.getOwnPropertySymbols,ib=Object.getPrototypeOf,rd=Object.prototype.hasOwnProperty,sb=Object.prototype.propertyIsEnumerable;var nd=(e,t,r)=>t in e?qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,G=(e,t)=>{for(var r in t||(t={}))rd.call(t,r)&&nd(e,r,t[r]);if(td)for(var r of td(t))sb.call(t,r)&&nd(e,r,t[r]);return e},pe=(e,t)=>eb(e,rb(t)),ob=e=>qn(e,"__esModule",{value:!0});var C=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ab=(e,t)=>{for(var r in t)qn(e,r,{get:t[r],enumerable:!0})},ub=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of nb(t))!rd.call(e,n)&&n!=="default"&&qn(e,n,{get:()=>t[n],enumerable:!(r=tb(t,n))||r.enumerable});return e},z=e=>ub(ob(qn(e!=null?Jv(ib(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var md=c((x1,gd)=>{function ud(e){return Array.isArray(e)?e:[e]}var cd="",ld=" ",tu="\\",cb=/^\s+$/,lb=/^\\!/,pb=/^\\#/,db=/\r?\n/g,fb=/^\.*\/|^\.+$/,ru="/",pd=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",_b=(e,t,r)=>Object.defineProperty(e,t,{value:r}),hb=/([0-z])-([0-z])/g,gb=e=>e.replace(hb,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:cd),mb=e=>{let{length:t}=e;return e.slice(0,t-t%2)},Eb=[[/\\?\s+$/,e=>e.indexOf("\\")===0?ld:cd],[/\\\s/g,()=>ld],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>tu],[/\\\\/g,()=>tu],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===tu?`\\[${r}${mb(n)}${i}`:i==="]"&&n.length%2==0?`[${gb(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],dd=Object.create(null),Sb=(e,t,r)=>{let n=dd[e];if(n)return n;let i=Eb.reduce((s,o)=>s.replace(o[0],o[1].bind(e)),e);return dd[e]=r?new RegExp(i,"i"):new RegExp(i)},nu=e=>typeof e=="string",Ab=e=>e&&nu(e)&&!cb.test(e)&&e.indexOf("#")!==0,yb=e=>e.split(db),fd=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},Tb=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(lb,"!").replace(pb,"#");let i=Sb(e,n,t);return new fd(r,e,n,i)},vb=(e,t)=>{throw new t(e)},Et=(e,t,r)=>nu(e)?e?Et.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),_d=e=>fb.test(e);Et.isNotRelative=_d;Et.convert=e=>e;var hd=class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,_b(this,pd,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[pd]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(Ab(t)){let r=Tb(t,this._ignorecase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,ud(nu(t)?yb(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Et.convert(t);return Et(s,t,vb),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(ru)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(ru)+ru,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return ud(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Yi=e=>new hd(e),bb=()=>!1,Ob=e=>Et(e&&Et.convert(e),e,bb);Yi.isPathValid=Ob;Yi.default=Yi;gd.exports=Yi;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Et.convert=e;let t=/^[a-z]:\//i;Et.isNotRelative=r=>t.test(r)||_d(r)}});var Sd=c((D1,Ed)=>{"use strict";Ed.exports=(...e)=>[...new Set([].concat(...e))]});var iu=c((B1,Td)=>{"use strict";var Rb=C("stream"),Ad=Rb.PassThrough,Pb=Array.prototype.slice;Td.exports=Cb;function Cb(){let e=[],t=Pb.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=Ad(n);function a(){for(let p=0,f=arguments.length;p<f;p++)e.push(yd(arguments[p],n));return u(),this}function u(){if(r)return;r=!0;let p=e.shift();if(!p){process.nextTick(l);return}Array.isArray(p)||(p=[p]);let f=p.length+1;function d(){--f>0||(r=!1,u())}function m(g){function S(){g.removeListener("merge2UnpipeEnd",S),g.removeListener("end",S),s&&g.removeListener("error",y),d()}function y(b){o.emit("error",b)}if(g._readableState.endEmitted)return d();g.on("merge2UnpipeEnd",S),g.on("end",S),s&&g.on("error",y),g.pipe(o,{end:!1}),g.resume()}for(let g=0;g<p.length;g++)m(p[g]);d()}function l(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(p){p.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function yd(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=yd(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(Ad(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var vd=c(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.splitWhen=Dr.flatten=void 0;function Ib(e){return e.reduce((t,r)=>[].concat(t,r),[])}Dr.flatten=Ib;function Nb(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}Dr.splitWhen=Nb});var bd=c(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.isEnoentCodeError=void 0;function Mb(e){return e.code==="ENOENT"}Ki.isEnoentCodeError=Mb});var Rd=c(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.createDirentFromStats=void 0;var Od=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function wb(e,t){return new Od(e,t)}Wi.createDirentFromStats=wb});var Pd=c(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.removeLeadingDotSegment=Ze.escape=Ze.makeAbsolute=Ze.unixify=void 0;var Lb=C("path"),xb=2,Db=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function Bb(e){return e.replace(/\\/g,"/")}Ze.unixify=Bb;function qb(e,t){return Lb.resolve(e,t)}Ze.makeAbsolute=qb;function Fb(e){return e.replace(Db,"\\$2")}Ze.escape=Fb;function Ub(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(xb)}return e}Ze.removeLeadingDotSegment=Ub});var Id=c((G1,Cd)=>{Cd.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var Md=c((H1,Nd)=>{var jb=Id(),Gb={"{":"}","(":")","[":"]"},Hb=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,Vb=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;Nd.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(jb(t))return!0;var n=Hb,i;for(r&&r.strict===!1&&(n=Vb);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?Gb[o]:null;if(o&&a){var u=t.indexOf(a,s);u!==-1&&(s=u+1)}t=t.slice(s)}return!1}});var Ld=c((V1,wd)=>{"use strict";var kb=Md(),$b=C("path").posix.dirname,Yb=C("os").platform()==="win32",su="/",Kb=/\\/g,Wb=/[\{\[].*[\}\]]$/,Xb=/(^|[^\\])([\{\[]|\([^\)]+$)/,zb=/\\([\!\*\?\|\[\]\(\)\{\}])/g;wd.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Yb&&t.indexOf(su)<0&&(t=t.replace(Kb,su)),Wb.test(t)&&(t+=su),t+="a";do t=$b(t);while(kb(t)||Xb.test(t));return t.replace(zb,"$1")}});var Xi=c(Fe=>{"use strict";Fe.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Fe.find=(e,t)=>e.nodes.find(r=>r.type===t);Fe.exceedsLimit=(e,t,r=1,n)=>n===!1||!Fe.isInteger(e)||!Fe.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;Fe.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Fe.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;Fe.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;Fe.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Fe.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Fe.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var zi=c(($1,Dd)=>{"use strict";var xd=Xi();Dd.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&xd.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&xd.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var qd=c((Y1,Bd)=>{"use strict";Bd.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Yd=c((K1,$d)=>{"use strict";var Fd=qd(),Zt=(e,t,r)=>{if(Fd(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Fd(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=G({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(Zt.cache.hasOwnProperty(u))return Zt.cache[u].result;let l=Math.min(e,t),p=Math.max(e,t);if(Math.abs(l-p)===1){let S=e+"|"+t;return n.capture?`(${S})`:n.wrap===!1?S:`(?:${S})`}let f=kd(e)||kd(t),d={min:e,max:t,a:l,b:p},m=[],g=[];if(f&&(d.isPadded=f,d.maxLen=String(d.max).length),l<0){let S=p<0?Math.abs(p):1;g=Ud(S,Math.abs(l),d,n),l=d.a=0}return p>=0&&(m=Ud(l,p,d,n)),d.negatives=g,d.positives=m,d.result=Qb(g,m,n),n.capture===!0?d.result=`(${d.result})`:n.wrap!==!1&&m.length+g.length>1&&(d.result=`(?:${d.result})`),Zt.cache[u]=d,d.result};function Qb(e,t,r){let n=ou(e,t,"-",!1,r)||[],i=ou(t,e,"",!1,r)||[],s=ou(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function Zb(e,t){let r=1,n=1,i=Gd(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=Gd(e,r);for(i=Hd(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=Hd(t+1,n)-1;return s=[...s],s.sort(tO),s}function Jb(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=eO(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,l]=n[a];u===l?s+=u:u!=="0"||l!=="9"?s+=rO(u,l,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Ud(e,t,r,n){let i=Zb(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let l=i[u],p=Jb(String(o),String(l),n),f="";if(!r.isPadded&&a&&a.pattern===p.pattern){a.count.length>1&&a.count.pop(),a.count.push(p.count[0]),a.string=a.pattern+Vd(a.count),o=l+1;continue}r.isPadded&&(f=nO(l,r,n)),p.string=f+p.pattern+Vd(p.count),s.push(p),o=l+1,a=p}return s}function ou(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!jd(t,"string",a)&&s.push(r+a),n&&jd(t,"string",a)&&s.push(r+a)}return s}function eO(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function tO(e,t){return e>t?1:t>e?-1:0}function jd(e,t,r){return e.some(n=>n[t]===r)}function Gd(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Hd(e,t){return e-e%Math.pow(10,t)}function Vd(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function rO(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function kd(e){return/^-?(0+)\d/.test(e)}function nO(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Zt.cache={};Zt.clearCache=()=>Zt.cache={};$d.exports=Zt});var cu=c((W1,ef)=>{"use strict";var iO=C("util"),Kd=Yd(),Wd=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),sO=e=>t=>e===!0?Number(t):String(t),au=e=>typeof e=="number"||typeof e=="string"&&e!=="",Fn=e=>Number.isInteger(+e),uu=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},oO=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,aO=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Xd=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},uO=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},zd=(e,t,r,n)=>{if(r)return Kd(e,t,G({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},Qd=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Kd(e,t,r)},Zd=(...e)=>new RangeError("Invalid range arguments: "+iO.inspect(...e)),Jd=(e,t,r)=>{if(r.strictRanges===!0)throw Zd([e,t]);return[]},cO=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},lO=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Zd([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),l=String(r);r=Math.max(Math.abs(r),1);let p=uu(a)||uu(u)||uu(l),f=p?Math.max(a.length,u.length,l.length):0,d=p===!1&&oO(e,t,n)===!1,m=n.transform||sO(d);if(n.toRegex&&r===1)return zd(Xd(e,f),Xd(t,f),!0,n);let g={negatives:[],positives:[]},S=v=>g[v<0?"negatives":"positives"].push(Math.abs(v)),y=[],b=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?S(i):y.push(aO(m(i,b),f,d)),i=o?i-r:i+r,b++;return n.toRegex===!0?r>1?uO(g,n):Qd(y,null,G({wrap:!1},n)):y},pO=(e,t,r=1,n={})=>{if(!Fn(e)&&e.length>1||!Fn(t)&&t.length>1)return Jd(e,t,n);let i=n.transform||(d=>String.fromCharCode(d)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),l=Math.max(s,o);if(n.toRegex&&r===1)return zd(u,l,!1,n);let p=[],f=0;for(;a?s>=o:s<=o;)p.push(i(s,f)),s=a?s-r:s+r,f++;return n.toRegex===!0?Qd(p,null,{wrap:!1,options:n}):p},Qi=(e,t,r,n={})=>{if(t==null&&au(e))return[e];if(!au(e)||!au(t))return Jd(e,t,n);if(typeof r=="function")return Qi(e,t,1,{transform:r});if(Wd(r))return Qi(e,t,0,r);let i=G({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Fn(r)?Fn(e)&&Fn(t)?lO(e,t,r,i):pO(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Wd(r)?cO(r,i):Qi(e,t,1,r)};ef.exports=Qi});var nf=c((X1,rf)=>{"use strict";var dO=cu(),tf=Xi(),fO=(e,t={})=>{let r=(n,i={})=>{let s=tf.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",l="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let p=tf.reduce(n.nodes),f=dO(...p,pe(G({},t),{wrap:!1,toRegex:!0}));if(f.length!==0)return p.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let p of n.nodes)l+=r(p,n);return l};return r(e)};rf.exports=fO});var af=c((z1,of)=>{"use strict";var _O=cu(),sf=zi(),Br=Xi(),Jt=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Br.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(Jt(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Jt(i,s,r):i+s);return Br.flatten(n)},hO=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Jt(a.pop(),sf(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Jt(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let f=Br.reduce(i.nodes);if(Br.exceedsLimit(...f,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let d=_O(...f,t);d.length===0&&(d=sf(i,t)),a.push(Jt(a.pop(),d)),i.nodes=[];return}let u=Br.encloseBrace(i),l=i.queue,p=i;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,l=p.queue;for(let f=0;f<i.nodes.length;f++){let d=i.nodes[f];if(d.type==="comma"&&i.type==="brace"){f===1&&l.push(""),l.push("");continue}if(d.type==="close"){a.push(Jt(a.pop(),l,u));continue}if(d.value&&d.type!=="open"){l.push(Jt(l.pop(),d.value));continue}d.nodes&&n(d,i)}return l};return Br.flatten(n(e))};of.exports=hO});var cf=c((Q1,uf)=>{"use strict";uf.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var _f=c((Z1,ff)=>{"use strict";var gO=zi(),{MAX_LENGTH:lf,CHAR_BACKSLASH:lu,CHAR_BACKTICK:mO,CHAR_COMMA:EO,CHAR_DOT:SO,CHAR_LEFT_PARENTHESES:AO,CHAR_RIGHT_PARENTHESES:yO,CHAR_LEFT_CURLY_BRACE:TO,CHAR_RIGHT_CURLY_BRACE:vO,CHAR_LEFT_SQUARE_BRACKET:pf,CHAR_RIGHT_SQUARE_BRACKET:df,CHAR_DOUBLE_QUOTE:bO,CHAR_SINGLE_QUOTE:OO,CHAR_NO_BREAK_SPACE:RO,CHAR_ZERO_WIDTH_NOBREAK_SPACE:PO}=cf(),CO=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(lf,r.maxLength):lf;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,l=e.length,p=0,f=0,d,m={},g=()=>e[p++],S=y=>{if(y.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&y.type==="text"){a.value+=y.value;return}return o.nodes.push(y),y.parent=o,y.prev=a,a=y,y};for(S({type:"bos"});p<l;)if(o=s[s.length-1],d=g(),!(d===PO||d===RO)){if(d===lu){S({type:"text",value:(t.keepEscaping?d:"")+g()});continue}if(d===df){S({type:"text",value:"\\"+d});continue}if(d===pf){u++;let y=!0,b;for(;p<l&&(b=g());){if(d+=b,b===pf){u++;continue}if(b===lu){d+=g();continue}if(b===df&&(u--,u===0))break}S({type:"text",value:d});continue}if(d===AO){o=S({type:"paren",nodes:[]}),s.push(o),S({type:"text",value:d});continue}if(d===yO){if(o.type!=="paren"){S({type:"text",value:d});continue}o=s.pop(),S({type:"text",value:d}),o=s[s.length-1];continue}if(d===bO||d===OO||d===mO){let y=d,b;for(t.keepQuotes!==!0&&(d="");p<l&&(b=g());){if(b===lu){d+=b+g();continue}if(b===y){t.keepQuotes===!0&&(d+=b);break}d+=b}S({type:"text",value:d});continue}if(d===TO){f++;let y=a.value&&a.value.slice(-1)==="$"||o.dollar===!0;o=S({type:"brace",open:!0,close:!1,dollar:y,depth:f,commas:0,ranges:0,nodes:[]}),s.push(o),S({type:"open",value:d});continue}if(d===vO){if(o.type!=="brace"){S({type:"text",value:d});continue}let y="close";o=s.pop(),o.close=!0,S({type:y,value:d}),f--,o=s[s.length-1];continue}if(d===EO&&f>0){if(o.ranges>0){o.ranges=0;let y=o.nodes.shift();o.nodes=[y,{type:"text",value:gO(o)}]}S({type:"comma",value:d}),o.commas++;continue}if(d===SO&&f>0&&o.commas===0){let y=o.nodes;if(f===0||y.length===0){S({type:"text",value:d});continue}if(a.type==="dot"){if(o.range=[],a.value+=d,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){y.pop();let b=y[y.length-1];b.value+=a.value+d,a=b,o.ranges--;continue}S({type:"dot",value:d});continue}S({type:"text",value:d})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(v=>{v.nodes||(v.type==="open"&&(v.isOpen=!0),v.type==="close"&&(v.isClose=!0),v.nodes||(v.type="text"),v.invalid=!0)});let y=s[s.length-1],b=y.nodes.indexOf(o);y.nodes.splice(b,1,...o.nodes)}while(s.length>0);return S({type:"eos"}),i};ff.exports=CO});var mf=c((J1,gf)=>{"use strict";var hf=zi(),IO=nf(),NO=af(),MO=_f(),xe=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=xe.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(xe.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};xe.parse=(e,t={})=>MO(e,t);xe.stringify=(e,t={})=>typeof e=="string"?hf(xe.parse(e,t),t):hf(e,t);xe.compile=(e,t={})=>(typeof e=="string"&&(e=xe.parse(e,t)),IO(e,t));xe.expand=(e,t={})=>{typeof e=="string"&&(e=xe.parse(e,t));let r=NO(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};xe.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?xe.compile(e,t):xe.expand(e,t);gf.exports=xe});var Un=c((eq,Tf)=>{"use strict";var wO=C("path"),Je="\\\\/",Ef=`[^${Je}]`,St="\\.",LO="\\+",xO="\\?",Zi="\\/",DO="(?=.)",Sf="[^/]",pu=`(?:${Zi}|$)`,Af=`(?:^|${Zi})`,du=`${St}{1,2}${pu}`,BO=`(?!${St})`,qO=`(?!${Af}${du})`,FO=`(?!${St}{0,1}${pu})`,UO=`(?!${du})`,jO=`[^.${Zi}]`,GO=`${Sf}*?`,yf={DOT_LITERAL:St,PLUS_LITERAL:LO,QMARK_LITERAL:xO,SLASH_LITERAL:Zi,ONE_CHAR:DO,QMARK:Sf,END_ANCHOR:pu,DOTS_SLASH:du,NO_DOT:BO,NO_DOTS:qO,NO_DOT_SLASH:FO,NO_DOTS_SLASH:UO,QMARK_NO_DOT:jO,STAR:GO,START_ANCHOR:Af},HO=pe(G({},yf),{SLASH_LITERAL:`[${Je}]`,QMARK:Ef,STAR:`${Ef}*?`,DOTS_SLASH:`${St}{1,2}(?:[${Je}]|$)`,NO_DOT:`(?!${St})`,NO_DOTS:`(?!(?:^|[${Je}])${St}{1,2}(?:[${Je}]|$))`,NO_DOT_SLASH:`(?!${St}{0,1}(?:[${Je}]|$))`,NO_DOTS_SLASH:`(?!${St}{1,2}(?:[${Je}]|$))`,QMARK_NO_DOT:`[^.${Je}]`,START_ANCHOR:`(?:^|[${Je}])`,END_ANCHOR:`(?:[${Je}]|$)`}),VO={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Tf.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:VO,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:wO.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?HO:yf}}});var jn=c(Pe=>{"use strict";var kO=C("path"),$O=process.platform==="win32",{REGEX_BACKSLASH:YO,REGEX_REMOVE_BACKSLASH:KO,REGEX_SPECIAL_CHARS:WO,REGEX_SPECIAL_CHARS_GLOBAL:XO}=Un();Pe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Pe.hasRegexChars=e=>WO.test(e);Pe.isRegexChar=e=>e.length===1&&Pe.hasRegexChars(e);Pe.escapeRegex=e=>e.replace(XO,"\\$1");Pe.toPosixSlashes=e=>e.replace(YO,"/");Pe.removeBackslashes=e=>e.replace(KO,t=>t==="\\"?"":t);Pe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Pe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:$O===!0||kO.sep==="\\";Pe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Pe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Pe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Pe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Nf=c((rq,If)=>{"use strict";var vf=jn(),{CHAR_ASTERISK:fu,CHAR_AT:zO,CHAR_BACKWARD_SLASH:Gn,CHAR_COMMA:QO,CHAR_DOT:_u,CHAR_EXCLAMATION_MARK:hu,CHAR_FORWARD_SLASH:bf,CHAR_LEFT_CURLY_BRACE:gu,CHAR_LEFT_PARENTHESES:mu,CHAR_LEFT_SQUARE_BRACKET:ZO,CHAR_PLUS:JO,CHAR_QUESTION_MARK:Of,CHAR_RIGHT_CURLY_BRACE:eR,CHAR_RIGHT_PARENTHESES:Rf,CHAR_RIGHT_SQUARE_BRACKET:tR}=Un(),Pf=e=>e===bf||e===Gn,Cf=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},rR=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,l=-1,p=0,f=0,d=!1,m=!1,g=!1,S=!1,y=!1,b=!1,v=!1,V=!1,Te=!1,L=!1,$=0,P,I,U={value:"",depth:0,isGlob:!1},re=()=>l>=n,E=()=>u.charCodeAt(l+1),N=()=>(P=I,u.charCodeAt(++l));for(;l<n;){I=N();let ce;if(I===Gn){v=U.backslashes=!0,I=N(),I===gu&&(b=!0);continue}if(b===!0||I===gu){for($++;re()!==!0&&(I=N());){if(I===Gn){v=U.backslashes=!0,N();continue}if(I===gu){$++;continue}if(b!==!0&&I===_u&&(I=N())===_u){if(d=U.isBrace=!0,g=U.isGlob=!0,L=!0,i===!0)continue;break}if(b!==!0&&I===QO){if(d=U.isBrace=!0,g=U.isGlob=!0,L=!0,i===!0)continue;break}if(I===eR&&($--,$===0)){b=!1,d=U.isBrace=!0,L=!0;break}}if(i===!0)continue;break}if(I===bf){if(s.push(l),o.push(U),U={value:"",depth:0,isGlob:!1},L===!0)continue;if(P===_u&&l===p+1){p+=2;continue}f=l+1;continue}if(r.noext!==!0&&(I===JO||I===zO||I===fu||I===Of||I===hu)===!0&&E()===mu){if(g=U.isGlob=!0,S=U.isExtglob=!0,L=!0,I===hu&&l===p&&(Te=!0),i===!0){for(;re()!==!0&&(I=N());){if(I===Gn){v=U.backslashes=!0,I=N();continue}if(I===Rf){g=U.isGlob=!0,L=!0;break}}continue}break}if(I===fu){if(P===fu&&(y=U.isGlobstar=!0),g=U.isGlob=!0,L=!0,i===!0)continue;break}if(I===Of){if(g=U.isGlob=!0,L=!0,i===!0)continue;break}if(I===ZO){for(;re()!==!0&&(ce=N());){if(ce===Gn){v=U.backslashes=!0,N();continue}if(ce===tR){m=U.isBracket=!0,g=U.isGlob=!0,L=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&I===hu&&l===p){V=U.negated=!0,p++;continue}if(r.noparen!==!0&&I===mu){if(g=U.isGlob=!0,i===!0){for(;re()!==!0&&(I=N());){if(I===mu){v=U.backslashes=!0,I=N();continue}if(I===Rf){L=!0;break}}continue}break}if(g===!0){if(L=!0,i===!0)continue;break}}r.noext===!0&&(S=!1,g=!1);let D=u,ue="",_="";p>0&&(ue=u.slice(0,p),u=u.slice(p),f-=p),D&&g===!0&&f>0?(D=u.slice(0,f),_=u.slice(f)):g===!0?(D="",_=u):D=u,D&&D!==""&&D!=="/"&&D!==u&&Pf(D.charCodeAt(D.length-1))&&(D=D.slice(0,-1)),r.unescape===!0&&(_&&(_=vf.removeBackslashes(_)),D&&v===!0&&(D=vf.removeBackslashes(D)));let h={prefix:ue,input:e,start:p,base:D,glob:_,isBrace:d,isBracket:m,isGlob:g,isExtglob:S,isGlobstar:y,negated:V,negatedExtglob:Te};if(r.tokens===!0&&(h.maxDepth=0,Pf(I)||o.push(U),h.tokens=o),r.parts===!0||r.tokens===!0){let ce;for(let H=0;H<s.length;H++){let ze=ce?ce+1:p,Qe=s[H],Le=e.slice(ze,Qe);r.tokens&&(H===0&&p!==0?(o[H].isPrefix=!0,o[H].value=ue):o[H].value=Le,Cf(o[H]),h.maxDepth+=o[H].depth),(H!==0||Le!=="")&&a.push(Le),ce=Qe}if(ce&&ce+1<e.length){let H=e.slice(ce+1);a.push(H),r.tokens&&(o[o.length-1].value=H,Cf(o[o.length-1]),h.maxDepth+=o[o.length-1].depth)}h.slashes=s,h.parts=a}return h};If.exports=rR});var xf=c((nq,Lf)=>{"use strict";var Ji=Un(),De=jn(),{MAX_LENGTH:es,POSIX_REGEX_SOURCE:nR,REGEX_NON_SPECIAL_CHARS:iR,REGEX_SPECIAL_CHARS_BACKREF:sR,REPLACEMENTS:Mf}=Ji,oR=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>De.escapeRegex(i)).join("..")}return r},qr=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,wf=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Mf[e]||e;let r=G({},t),n=typeof r.maxLength=="number"?Math.min(es,r.maxLength):es,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=De.isWindows(t),l=Ji.globChars(u),p=Ji.extglobChars(l),{DOT_LITERAL:f,PLUS_LITERAL:d,SLASH_LITERAL:m,ONE_CHAR:g,DOTS_SLASH:S,NO_DOT:y,NO_DOT_SLASH:b,NO_DOTS_SLASH:v,QMARK:V,QMARK_NO_DOT:Te,STAR:L,START_ANCHOR:$}=l,P=T=>`(${a}(?:(?!${$}${T.dot?S:f}).)*?)`,I=r.dot?"":y,U=r.dot?V:Te,re=r.bash===!0?P(r):L;r.capture&&(re=`(${re})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let E={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=De.removePrefix(e,E),i=e.length;let N=[],D=[],ue=[],_=s,h,ce=()=>E.index===i-1,H=E.peek=(T=1)=>e[E.index+T],ze=E.advance=()=>e[++E.index]||"",Qe=()=>e.slice(E.index+1),Le=(T="",X=0)=>{E.consumed+=T,E.index+=X},Hi=T=>{E.output+=T.output!=null?T.output:T.value,Le(T.value)},Qv=()=>{let T=1;for(;H()==="!"&&(H(2)!=="("||H(3)==="?");)ze(),E.start++,T++;return T%2==0?!1:(E.negated=!0,E.start++,!0)},Vi=T=>{E[T]++,ue.push(T)},Qt=T=>{E[T]--,ue.pop()},F=T=>{if(_.type==="globstar"){let X=E.braces>0&&(T.type==="comma"||T.type==="brace"),A=T.extglob===!0||N.length&&(T.type==="pipe"||T.type==="paren");T.type!=="slash"&&T.type!=="paren"&&!X&&!A&&(E.output=E.output.slice(0,-_.output.length),_.type="star",_.value="*",_.output=re,E.output+=_.output)}if(N.length&&T.type!=="paren"&&(N[N.length-1].inner+=T.value),(T.value||T.output)&&Hi(T),_&&_.type==="text"&&T.type==="text"){_.value+=T.value,_.output=(_.output||"")+T.value;return}T.prev=_,o.push(T),_=T},ki=(T,X)=>{let A=pe(G({},p[X]),{conditions:1,inner:""});A.prev=_,A.parens=E.parens,A.output=E.output;let B=(r.capture?"(":"")+A.open;Vi("parens"),F({type:T,value:X,output:E.output?"":g}),F({type:"paren",extglob:!0,value:ze(),output:B}),N.push(A)},Zv=T=>{let X=T.close+(r.capture?")":""),A;if(T.type==="negate"){let B=re;T.inner&&T.inner.length>1&&T.inner.includes("/")&&(B=P(r)),(B!==re||ce()||/^\)+$/.test(Qe()))&&(X=T.close=`)$))${B}`),T.inner.includes("*")&&(A=Qe())&&/^\.[^\\/.]+$/.test(A)&&(X=T.close=`)${A})${B})`),T.prev.type==="bos"&&(E.negatedExtglob=!0)}F({type:"paren",extglob:!0,value:h,output:X}),Qt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let T=!1,X=e.replace(sR,(A,B,ee,ve,le,eu)=>ve==="\\"?(T=!0,A):ve==="?"?B?B+ve+(le?V.repeat(le.length):""):eu===0?U+(le?V.repeat(le.length):""):V.repeat(ee.length):ve==="."?f.repeat(ee.length):ve==="*"?B?B+ve+(le?re:""):re:B?A:`\\${A}`);return T===!0&&(r.unescape===!0?X=X.replace(/\\/g,""):X=X.replace(/\\+/g,A=>A.length%2==0?"\\\\":A?"\\":"")),X===e&&r.contains===!0?(E.output=e,E):(E.output=De.wrapOutput(X,E,t),E)}for(;!ce();){if(h=ze(),h==="\0")continue;if(h==="\\"){let A=H();if(A==="/"&&r.bash!==!0||A==="."||A===";")continue;if(!A){h+="\\",F({type:"text",value:h});continue}let B=/^\\+/.exec(Qe()),ee=0;if(B&&B[0].length>2&&(ee=B[0].length,E.index+=ee,ee%2!=0&&(h+="\\")),r.unescape===!0?h=ze():h+=ze(),E.brackets===0){F({type:"text",value:h});continue}}if(E.brackets>0&&(h!=="]"||_.value==="["||_.value==="[^")){if(r.posix!==!1&&h===":"){let A=_.value.slice(1);if(A.includes("[")&&(_.posix=!0,A.includes(":"))){let B=_.value.lastIndexOf("["),ee=_.value.slice(0,B),ve=_.value.slice(B+2),le=nR[ve];if(le){_.value=ee+le,E.backtrack=!0,ze(),!s.output&&o.indexOf(_)===1&&(s.output=g);continue}}}(h==="["&&H()!==":"||h==="-"&&H()==="]")&&(h=`\\${h}`),h==="]"&&(_.value==="["||_.value==="[^")&&(h=`\\${h}`),r.posix===!0&&h==="!"&&_.value==="["&&(h="^"),_.value+=h,Hi({value:h});continue}if(E.quotes===1&&h!=='"'){h=De.escapeRegex(h),_.value+=h,Hi({value:h});continue}if(h==='"'){E.quotes=E.quotes===1?0:1,r.keepQuotes===!0&&F({type:"text",value:h});continue}if(h==="("){Vi("parens"),F({type:"paren",value:h});continue}if(h===")"){if(E.parens===0&&r.strictBrackets===!0)throw new SyntaxError(qr("opening","("));let A=N[N.length-1];if(A&&E.parens===A.parens+1){Zv(N.pop());continue}F({type:"paren",value:h,output:E.parens?")":"\\)"}),Qt("parens");continue}if(h==="["){if(r.nobracket===!0||!Qe().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(qr("closing","]"));h=`\\${h}`}else Vi("brackets");F({type:"bracket",value:h});continue}if(h==="]"){if(r.nobracket===!0||_&&_.type==="bracket"&&_.value.length===1){F({type:"text",value:h,output:`\\${h}`});continue}if(E.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(qr("opening","["));F({type:"text",value:h,output:`\\${h}`});continue}Qt("brackets");let A=_.value.slice(1);if(_.posix!==!0&&A[0]==="^"&&!A.includes("/")&&(h=`/${h}`),_.value+=h,Hi({value:h}),r.literalBrackets===!1||De.hasRegexChars(A))continue;let B=De.escapeRegex(_.value);if(E.output=E.output.slice(0,-_.value.length),r.literalBrackets===!0){E.output+=B,_.value=B;continue}_.value=`(${a}${B}|${_.value})`,E.output+=_.value;continue}if(h==="{"&&r.nobrace!==!0){Vi("braces");let A={type:"brace",value:h,output:"(",outputIndex:E.output.length,tokensIndex:E.tokens.length};D.push(A),F(A);continue}if(h==="}"){let A=D[D.length-1];if(r.nobrace===!0||!A){F({type:"text",value:h,output:h});continue}let B=")";if(A.dots===!0){let ee=o.slice(),ve=[];for(let le=ee.length-1;le>=0&&(o.pop(),ee[le].type!=="brace");le--)ee[le].type!=="dots"&&ve.unshift(ee[le].value);B=oR(ve,r),E.backtrack=!0}if(A.comma!==!0&&A.dots!==!0){let ee=E.output.slice(0,A.outputIndex),ve=E.tokens.slice(A.tokensIndex);A.value=A.output="\\{",h=B="\\}",E.output=ee;for(let le of ve)E.output+=le.output||le.value}F({type:"brace",value:h,output:B}),Qt("braces"),D.pop();continue}if(h==="|"){N.length>0&&N[N.length-1].conditions++,F({type:"text",value:h});continue}if(h===","){let A=h,B=D[D.length-1];B&&ue[ue.length-1]==="braces"&&(B.comma=!0,A="|"),F({type:"comma",value:h,output:A});continue}if(h==="/"){if(_.type==="dot"&&E.index===E.start+1){E.start=E.index+1,E.consumed="",E.output="",o.pop(),_=s;continue}F({type:"slash",value:h,output:m});continue}if(h==="."){if(E.braces>0&&_.type==="dot"){_.value==="."&&(_.output=f);let A=D[D.length-1];_.type="dots",_.output+=h,_.value+=h,A.dots=!0;continue}if(E.braces+E.parens===0&&_.type!=="bos"&&_.type!=="slash"){F({type:"text",value:h,output:f});continue}F({type:"dot",value:h,output:f});continue}if(h==="?"){if(!(_&&_.value==="(")&&r.noextglob!==!0&&H()==="("&&H(2)!=="?"){ki("qmark",h);continue}if(_&&_.type==="paren"){let B=H(),ee=h;if(B==="<"&&!De.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(_.value==="("&&!/[!=<:]/.test(B)||B==="<"&&!/<([!=]|\w+>)/.test(Qe()))&&(ee=`\\${h}`),F({type:"text",value:h,output:ee});continue}if(r.dot!==!0&&(_.type==="slash"||_.type==="bos")){F({type:"qmark",value:h,output:Te});continue}F({type:"qmark",value:h,output:V});continue}if(h==="!"){if(r.noextglob!==!0&&H()==="("&&(H(2)!=="?"||!/[!=<:]/.test(H(3)))){ki("negate",h);continue}if(r.nonegate!==!0&&E.index===0){Qv();continue}}if(h==="+"){if(r.noextglob!==!0&&H()==="("&&H(2)!=="?"){ki("plus",h);continue}if(_&&_.value==="("||r.regex===!1){F({type:"plus",value:h,output:d});continue}if(_&&(_.type==="bracket"||_.type==="paren"||_.type==="brace")||E.parens>0){F({type:"plus",value:h});continue}F({type:"plus",value:d});continue}if(h==="@"){if(r.noextglob!==!0&&H()==="("&&H(2)!=="?"){F({type:"at",extglob:!0,value:h,output:""});continue}F({type:"text",value:h});continue}if(h!=="*"){(h==="$"||h==="^")&&(h=`\\${h}`);let A=iR.exec(Qe());A&&(h+=A[0],E.index+=A[0].length),F({type:"text",value:h});continue}if(_&&(_.type==="globstar"||_.star===!0)){_.type="star",_.star=!0,_.value+=h,_.output=re,E.backtrack=!0,E.globstar=!0,Le(h);continue}let T=Qe();if(r.noextglob!==!0&&/^\([^?]/.test(T)){ki("star",h);continue}if(_.type==="star"){if(r.noglobstar===!0){Le(h);continue}let A=_.prev,B=A.prev,ee=A.type==="slash"||A.type==="bos",ve=B&&(B.type==="star"||B.type==="globstar");if(r.bash===!0&&(!ee||T[0]&&T[0]!=="/")){F({type:"star",value:h,output:""});continue}let le=E.braces>0&&(A.type==="comma"||A.type==="brace"),eu=N.length&&(A.type==="pipe"||A.type==="paren");if(!ee&&A.type!=="paren"&&!le&&!eu){F({type:"star",value:h,output:""});continue}for(;T.slice(0,3)==="/**";){let $i=e[E.index+4];if($i&&$i!=="/")break;T=T.slice(3),Le("/**",3)}if(A.type==="bos"&&ce()){_.type="globstar",_.value+=h,_.output=P(r),E.output=_.output,E.globstar=!0,Le(h);continue}if(A.type==="slash"&&A.prev.type!=="bos"&&!ve&&ce()){E.output=E.output.slice(0,-(A.output+_.output).length),A.output=`(?:${A.output}`,_.type="globstar",_.output=P(r)+(r.strictSlashes?")":"|$)"),_.value+=h,E.globstar=!0,E.output+=A.output+_.output,Le(h);continue}if(A.type==="slash"&&A.prev.type!=="bos"&&T[0]==="/"){let $i=T[1]!==void 0?"|$":"";E.output=E.output.slice(0,-(A.output+_.output).length),A.output=`(?:${A.output}`,_.type="globstar",_.output=`${P(r)}${m}|${m}${$i})`,_.value+=h,E.output+=A.output+_.output,E.globstar=!0,Le(h+ze()),F({type:"slash",value:"/",output:""});continue}if(A.type==="bos"&&T[0]==="/"){_.type="globstar",_.value+=h,_.output=`(?:^|${m}|${P(r)}${m})`,E.output=_.output,E.globstar=!0,Le(h+ze()),F({type:"slash",value:"/",output:""});continue}E.output=E.output.slice(0,-_.output.length),_.type="globstar",_.output=P(r),_.value+=h,E.output+=_.output,E.globstar=!0,Le(h);continue}let X={type:"star",value:h,output:re};if(r.bash===!0){X.output=".*?",(_.type==="bos"||_.type==="slash")&&(X.output=I+X.output),F(X);continue}if(_&&(_.type==="bracket"||_.type==="paren")&&r.regex===!0){X.output=h,F(X);continue}(E.index===E.start||_.type==="slash"||_.type==="dot")&&(_.type==="dot"?(E.output+=b,_.output+=b):r.dot===!0?(E.output+=v,_.output+=v):(E.output+=I,_.output+=I),H()!=="*"&&(E.output+=g,_.output+=g)),F(X)}for(;E.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(qr("closing","]"));E.output=De.escapeLast(E.output,"["),Qt("brackets")}for(;E.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(qr("closing",")"));E.output=De.escapeLast(E.output,"("),Qt("parens")}for(;E.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(qr("closing","}"));E.output=De.escapeLast(E.output,"{"),Qt("braces")}if(r.strictSlashes!==!0&&(_.type==="star"||_.type==="bracket")&&F({type:"maybe_slash",value:"",output:`${m}?`}),E.backtrack===!0){E.output="";for(let T of E.tokens)E.output+=T.output!=null?T.output:T.value,T.suffix&&(E.output+=T.suffix)}return E};wf.fastpaths=(e,t)=>{let r=G({},t),n=typeof r.maxLength=="number"?Math.min(es,r.maxLength):es,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=Mf[e]||e;let s=De.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:p,NO_DOTS:f,NO_DOTS_SLASH:d,STAR:m,START_ANCHOR:g}=Ji.globChars(s),S=r.dot?f:p,y=r.dot?d:p,b=r.capture?"":"?:",v={negated:!1,prefix:""},V=r.bash===!0?".*?":m;r.capture&&(V=`(${V})`);let Te=I=>I.noglobstar===!0?V:`(${b}(?:(?!${g}${I.dot?l:o}).)*?)`,L=I=>{switch(I){case"*":return`${S}${u}${V}`;case".*":return`${o}${u}${V}`;case"*.*":return`${S}${V}${o}${u}${V}`;case"*/*":return`${S}${V}${a}${u}${y}${V}`;case"**":return S+Te(r);case"**/*":return`(?:${S}${Te(r)}${a})?${y}${u}${V}`;case"**/*.*":return`(?:${S}${Te(r)}${a})?${y}${V}${o}${u}${V}`;case"**/.*":return`(?:${S}${Te(r)}${a})?${o}${u}${V}`;default:{let U=/^(.*?)\.(\w+)$/.exec(I);if(!U)return;let re=L(U[1]);return re?re+o+U[2]:void 0}}},$=De.removePrefix(e,v),P=L($);return P&&r.strictSlashes!==!0&&(P+=`${a}?`),P};Lf.exports=wf});var Bf=c((iq,Df)=>{"use strict";var aR=C("path"),uR=Nf(),Eu=xf(),Su=jn(),cR=Un(),lR=e=>e&&typeof e=="object"&&!Array.isArray(e),te=(e,t,r=!1)=>{if(Array.isArray(e)){let p=e.map(d=>te(d,t,r));return d=>{for(let m of p){let g=m(d);if(g)return g}return!1}}let n=lR(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=Su.isWindows(t),o=n?te.compileRe(e,t):te.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let p=pe(G({},t),{ignore:null,onMatch:null,onResult:null});u=te(i.ignore,p,r)}let l=(p,f=!1)=>{let{isMatch:d,match:m,output:g}=te.test(p,o,t,{glob:e,posix:s}),S={glob:e,state:a,regex:o,posix:s,input:p,output:g,match:m,isMatch:d};return typeof i.onResult=="function"&&i.onResult(S),d===!1?(S.isMatch=!1,f?S:!1):u(p)?(typeof i.onIgnore=="function"&&i.onIgnore(S),S.isMatch=!1,f?S:!1):(typeof i.onMatch=="function"&&i.onMatch(S),f?S:!0)};return r&&(l.state=a),l};te.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Su.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=te.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};te.matchBase=(e,t,r,n=Su.isWindows(r))=>(t instanceof RegExp?t:te.makeRe(t,r)).test(aR.basename(e));te.isMatch=(e,t,r)=>te(t,r)(e);te.parse=(e,t)=>Array.isArray(e)?e.map(r=>te.parse(r,t)):Eu(e,pe(G({},t),{fastpaths:!1}));te.scan=(e,t)=>uR(e,t);te.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=te.toRegex(a,t);return n===!0&&(u.state=e),u};te.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Eu.fastpaths(e,t)),i.output||(i=Eu(e,t)),te.compileRe(i,t,r,n)};te.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};te.constants=cR;Df.exports=te});var Ff=c((sq,qf)=>{"use strict";qf.exports=Bf()});var Vf=c((oq,Hf)=>{"use strict";var Uf=C("util"),jf=mf(),et=Ff(),Au=jn(),Gf=e=>e===""||e==="./",Z=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=p=>{s.add(p.output),r&&r.onResult&&r.onResult(p)};for(let p=0;p<t.length;p++){let f=et(String(t[p]),pe(G({},r),{onResult:a}),!0),d=f.state.negated||f.state.negatedExtglob;d&&o++;for(let m of e){let g=f(m,!0);!(d?!g.isMatch:g.isMatch)||(d?n.add(g.output):(n.delete(g.output),i.add(g.output)))}}let l=(o===t.length?[...s]:[...i]).filter(p=>!n.has(p));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(p=>p.replace(/\\/g,"")):t}return l};Z.match=Z;Z.matcher=(e,t)=>et(e,t);Z.isMatch=(e,t,r)=>et(t,r)(e);Z.any=Z.isMatch;Z.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=Z(e,t,pe(G({},r),{onResult:s}));for(let a of i)o.includes(a)||n.add(a);return[...n]};Z.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Uf.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>Z.contains(e,n,r));if(typeof t=="string"){if(Gf(e)||Gf(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Z.isMatch(e,t,pe(G({},r),{contains:!0}))};Z.matchKeys=(e,t,r)=>{if(!Au.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=Z(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};Z.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=et(String(i),r);if(n.some(o=>s(o)))return!0}return!1};Z.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=et(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};Z.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Uf.inspect(e)}"`);return[].concat(t).every(n=>et(n,r)(e))};Z.capture=(e,t,r)=>{let n=Au.isWindows(r),s=et.makeRe(String(e),pe(G({},r),{capture:!0})).exec(n?Au.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};Z.makeRe=(...e)=>et.makeRe(...e);Z.scan=(...e)=>et.scan(...e);Z.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of jf(String(n),t))r.push(et.parse(i,t));return r};Z.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:jf(e,t)};Z.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Z.braces(e,pe(G({},t),{expand:!0}))};Hf.exports=Z});var Qf=c(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.matchAny=M.convertPatternsToRe=M.makeRe=M.getPatternParts=M.expandBraceExpansion=M.expandPatternsWithBraceExpansion=M.isAffectDepthOfReadingPattern=M.endsWithSlashGlobStar=M.hasGlobStar=M.getBaseDirectory=M.isPatternRelatedToParentDirectory=M.getPatternsOutsideCurrentDirectory=M.getPatternsInsideCurrentDirectory=M.getPositivePatterns=M.getNegativePatterns=M.isPositivePattern=M.isNegativePattern=M.convertToNegativePattern=M.convertToPositivePattern=M.isDynamicPattern=M.isStaticPattern=void 0;var pR=C("path"),dR=Ld(),yu=Vf(),kf="**",fR="\\",_R=/[*?]|^!/,hR=/\[[^[]*]/,gR=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,mR=/[!*+?@]\([^(]*\)/,ER=/,|\.\./;function $f(e,t={}){return!Yf(e,t)}M.isStaticPattern=$f;function Yf(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(fR)||_R.test(e)||hR.test(e)||gR.test(e)||t.extglob!==!1&&mR.test(e)||t.braceExpansion!==!1&&SR(e))}M.isDynamicPattern=Yf;function SR(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return ER.test(n)}function AR(e){return ts(e)?e.slice(1):e}M.convertToPositivePattern=AR;function yR(e){return"!"+e}M.convertToNegativePattern=yR;function ts(e){return e.startsWith("!")&&e[1]!=="("}M.isNegativePattern=ts;function Kf(e){return!ts(e)}M.isPositivePattern=Kf;function TR(e){return e.filter(ts)}M.getNegativePatterns=TR;function vR(e){return e.filter(Kf)}M.getPositivePatterns=vR;function bR(e){return e.filter(t=>!Tu(t))}M.getPatternsInsideCurrentDirectory=bR;function OR(e){return e.filter(Tu)}M.getPatternsOutsideCurrentDirectory=OR;function Tu(e){return e.startsWith("..")||e.startsWith("./..")}M.isPatternRelatedToParentDirectory=Tu;function RR(e){return dR(e,{flipBackslashes:!1})}M.getBaseDirectory=RR;function PR(e){return e.includes(kf)}M.hasGlobStar=PR;function Wf(e){return e.endsWith("/"+kf)}M.endsWithSlashGlobStar=Wf;function CR(e){let t=pR.basename(e);return Wf(e)||$f(t)}M.isAffectDepthOfReadingPattern=CR;function IR(e){return e.reduce((t,r)=>t.concat(Xf(r)),[])}M.expandPatternsWithBraceExpansion=IR;function Xf(e){return yu.braces(e,{expand:!0,nodupes:!0})}M.expandBraceExpansion=Xf;function NR(e,t){let{parts:r}=yu.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}M.getPatternParts=NR;function zf(e,t){return yu.makeRe(e,t)}M.makeRe=zf;function MR(e,t){return e.map(r=>zf(r,t))}M.convertPatternsToRe=MR;function wR(e,t){return t.some(r=>r.test(e))}M.matchAny=wR});var Jf=c(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.merge=void 0;var LR=iu();function xR(e){let t=LR(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>Zf(e)),t.once("end",()=>Zf(e)),t}rs.merge=xR;function Zf(e){e.forEach(t=>t.emit("close"))}});var e_=c(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.isEmpty=Fr.isString=void 0;function DR(e){return typeof e=="string"}Fr.isString=DR;function BR(e){return e===""}Fr.isEmpty=BR});var At=c(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.string=_e.stream=_e.pattern=_e.path=_e.fs=_e.errno=_e.array=void 0;var qR=vd();_e.array=qR;var FR=bd();_e.errno=FR;var UR=Rd();_e.fs=UR;var jR=Pd();_e.path=jR;var GR=Qf();_e.pattern=GR;var HR=Jf();_e.stream=HR;var VR=e_();_e.string=VR});var n_=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.convertPatternGroupToTask=he.convertPatternGroupsToTasks=he.groupPatternsByBaseDirectory=he.getNegativePatternsAsPositive=he.getPositivePatterns=he.convertPatternsToTasks=he.generate=void 0;var yt=At();function kR(e,t){let r=t_(e),n=r_(e,t.ignore),i=r.filter(u=>yt.pattern.isStaticPattern(u,t)),s=r.filter(u=>yt.pattern.isDynamicPattern(u,t)),o=vu(i,n,!1),a=vu(s,n,!0);return o.concat(a)}he.generate=kR;function vu(e,t,r){let n=[],i=yt.pattern.getPatternsOutsideCurrentDirectory(e),s=yt.pattern.getPatternsInsideCurrentDirectory(e),o=bu(i),a=bu(s);return n.push(...Ou(o,t,r)),"."in a?n.push(Ru(".",s,t,r)):n.push(...Ou(a,t,r)),n}he.convertPatternsToTasks=vu;function t_(e){return yt.pattern.getPositivePatterns(e)}he.getPositivePatterns=t_;function r_(e,t){return yt.pattern.getNegativePatterns(e).concat(t).map(yt.pattern.convertToPositivePattern)}he.getNegativePatternsAsPositive=r_;function bu(e){let t={};return e.reduce((r,n)=>{let i=yt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}he.groupPatternsByBaseDirectory=bu;function Ou(e,t,r){return Object.keys(e).map(n=>Ru(n,e[n],t,r))}he.convertPatternGroupsToTasks=Ou;function Ru(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(yt.pattern.convertToNegativePattern))}}he.convertPatternGroupToTask=Ru});var s_=c(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.removeDuplicateSlashes=Ur.transform=void 0;var $R=/(?!^)\/{2,}/g;function YR(e){return e.map(t=>i_(t))}Ur.transform=YR;function i_(e){return e.replace($R,"/")}Ur.removeDuplicateSlashes=i_});var a_=c(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.read=void 0;function KR(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){o_(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){Pu(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){o_(r,s);return}Pu(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Pu(r,o)})})}ns.read=KR;function o_(e,t){e(t)}function Pu(e,t){e(null,t)}});var u_=c(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.read=void 0;function WR(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}is.read=WR});var c_=c(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.createFileSystemAdapter=Nt.FILE_SYSTEM_ADAPTER=void 0;var ss=C("fs");Nt.FILE_SYSTEM_ADAPTER={lstat:ss.lstat,stat:ss.stat,lstatSync:ss.lstatSync,statSync:ss.statSync};function XR(e){return e===void 0?Nt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Nt.FILE_SYSTEM_ADAPTER),e)}Nt.createFileSystemAdapter=XR});var p_=c(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});var zR=c_(),l_=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=zR.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t!=null?t:r}};Cu.default=l_});var er=c(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.statSync=Mt.stat=Mt.Settings=void 0;var d_=a_(),QR=u_(),Iu=p_();Mt.Settings=Iu.default;function ZR(e,t,r){if(typeof t=="function"){d_.read(e,Nu(),t);return}d_.read(e,Nu(t),r)}Mt.stat=ZR;function JR(e,t){let r=Nu(t);return QR.read(e,r)}Mt.statSync=JR;function Nu(e={}){return e instanceof Iu.default?e:new Iu.default(e)}});var h_=c((Eq,__)=>{var f_;__.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):e=>(f_||(f_=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var m_=c((Sq,g_)=>{g_.exports=tP;var eP=h_();function tP(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function l(){t&&t(u,r),t=null}s?eP(l):l()}function a(u,l,p){r[u]=p,(--n==0||l)&&o(l)}n?i?i.forEach(function(u){e[u](function(l,p){a(u,l,p)})}):e.forEach(function(u,l){u(function(p,f){a(l,p,f)})}):o(null),s=!1}});var Mu=c(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var os=process.versions.node.split(".");if(os[0]===void 0||os[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var E_=Number.parseInt(os[0],10),rP=Number.parseInt(os[1],10),S_=10,nP=10,iP=E_>S_,sP=E_===S_&&rP>=nP;as.IS_SUPPORT_READDIR_WITH_FILE_TYPES=iP||sP});var y_=c(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.createDirentFromStats=void 0;var A_=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function oP(e,t){return new A_(e,t)}us.createDirentFromStats=oP});var wu=c(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.fs=void 0;var aP=y_();cs.fs=aP});var Lu=c(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.joinPathSegments=void 0;function uP(e,t,r){return e.endsWith(r)?e+t:e+r+t}ls.joinPathSegments=uP});var P_=c(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.readdir=wt.readdirWithFileTypes=wt.read=void 0;var cP=er(),T_=m_(),lP=Mu(),v_=wu(),b_=Lu();function pP(e,t,r){if(!t.stats&&lP.IS_SUPPORT_READDIR_WITH_FILE_TYPES){O_(e,t,r);return}R_(e,t,r)}wt.read=pP;function O_(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){ps(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:b_.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){xu(r,s);return}let o=s.map(a=>dP(a,t));T_(o,(a,u)=>{if(a!==null){ps(r,a);return}xu(r,u)})})}wt.readdirWithFileTypes=O_;function dP(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=v_.fs.createDirentFromStats(e.name,i),r(null,e)})}}function R_(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){ps(r,n);return}let s=i.map(o=>{let a=b_.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{cP.stat(a,t.fsStatSettings,(l,p)=>{if(l!==null){u(l);return}let f={name:o,path:a,dirent:v_.fs.createDirentFromStats(o,p)};t.stats&&(f.stats=p),u(null,f)})}});T_(s,(o,a)=>{if(o!==null){ps(r,o);return}xu(r,a)})})}wt.readdir=R_;function ps(e,t){e(t)}function xu(e,t){e(null,t)}});var w_=c(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.readdir=Lt.readdirWithFileTypes=Lt.read=void 0;var fP=er(),_P=Mu(),C_=wu(),I_=Lu();function hP(e,t){return!t.stats&&_P.IS_SUPPORT_READDIR_WITH_FILE_TYPES?N_(e,t):M_(e,t)}Lt.read=hP;function N_(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:I_.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=C_.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}Lt.readdirWithFileTypes=N_;function M_(e,t){return t.fs.readdirSync(e).map(n=>{let i=I_.joinPathSegments(e,n,t.pathSegmentSeparator),s=fP.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:C_.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}Lt.readdir=M_});var L_=c(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.createFileSystemAdapter=xt.FILE_SYSTEM_ADAPTER=void 0;var jr=C("fs");xt.FILE_SYSTEM_ADAPTER={lstat:jr.lstat,stat:jr.stat,lstatSync:jr.lstatSync,statSync:jr.statSync,readdir:jr.readdir,readdirSync:jr.readdirSync};function gP(e){return e===void 0?xt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},xt.FILE_SYSTEM_ADAPTER),e)}xt.createFileSystemAdapter=gP});var D_=c(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var mP=C("path"),EP=er(),SP=L_(),x_=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=SP.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,mP.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new EP.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t!=null?t:r}};Du.default=x_});var ds=c(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.Settings=Dt.scandirSync=Dt.scandir=void 0;var B_=P_(),AP=w_(),Bu=D_();Dt.Settings=Bu.default;function yP(e,t,r){if(typeof t=="function"){B_.read(e,qu(),t);return}B_.read(e,qu(t),r)}Dt.scandir=yP;function TP(e,t){let r=qu(t);return AP.read(e,r)}Dt.scandirSync=TP;function qu(e={}){return e instanceof Bu.default?e:new Bu.default(e)}});var F_=c((Iq,q_)=>{"use strict";function vP(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}q_.exports=vP});var j_=c((Nq,Fu)=>{"use strict";var bP=F_();function U_(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=bP(OP),i=null,s=null,o=0,a=null,u={push:S,drain:tt,saturated:tt,pause:p,paused:!1,concurrency:r,running:l,resume:m,idle:g,length:f,getQueue:d,unshift:y,empty:tt,kill:v,killAndDrain:V,error:Te};return u;function l(){return o}function p(){u.paused=!0}function f(){for(var L=i,$=0;L;)L=L.next,$++;return $}function d(){for(var L=i,$=[];L;)$.push(L.value),L=L.next;return $}function m(){if(!!u.paused){u.paused=!1;for(var L=0;L<u.concurrency;L++)o++,b()}}function g(){return o===0&&u.length()===0}function S(L,$){var P=n.get();P.context=e,P.release=b,P.value=L,P.callback=$||tt,P.errorHandler=a,o===u.concurrency||u.paused?s?(s.next=P,s=P):(i=P,s=P,u.saturated()):(o++,t.call(e,P.value,P.worked))}function y(L,$){var P=n.get();P.context=e,P.release=b,P.value=L,P.callback=$||tt,o===u.concurrency||u.paused?i?(P.next=i,i=P):(i=P,s=P,u.saturated()):(o++,t.call(e,P.value,P.worked))}function b(L){L&&n.release(L);var $=i;$?u.paused?o--:(s===i&&(s=null),i=$.next,$.next=null,t.call(e,$.value,$.worked),s===null&&u.empty()):--o==0&&u.drain()}function v(){i=null,s=null,u.drain=tt}function V(){i=null,s=null,u.drain(),u.drain=tt}function Te(L){a=L}}function tt(){}function OP(){this.value=null,this.callback=tt,this.next=null,this.release=tt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=tt,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function RP(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,p){t.call(this,l).then(function(f){p(null,f)},p)}var i=U_(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i;function a(l){return new Promise(function(p,f){s(l,function(d,m){if(d){f(d);return}p(m)})})}function u(l){return new Promise(function(p,f){o(l,function(d,m){if(d){f(d);return}p(m)})})}}Fu.exports=U_;Fu.exports.promise=RP});var fs=c(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.joinPathSegments=rt.replacePathSegmentSeparator=rt.isAppliedFilter=rt.isFatalError=void 0;function PP(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}rt.isFatalError=PP;function CP(e,t){return e===null||e(t)}rt.isAppliedFilter=CP;function IP(e,t){return e.split(/[/\\]/).join(t)}rt.replacePathSegmentSeparator=IP;function NP(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}rt.joinPathSegments=NP});var ju=c(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});var MP=fs(),G_=class{constructor(t,r){this._root=t,this._settings=r,this._root=MP.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};Uu.default=G_});var Hu=c(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var wP=C("events"),LP=ds(),xP=j_(),_s=fs(),DP=ju(),H_=class extends DP.default{constructor(t,r){super(t,r);this._settings=r,this._scandir=LP.scandir,this._emitter=new wP.EventEmitter,this._queue=xP(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!_s.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=_s.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),_s.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&_s.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Gu.default=H_});var k_=c(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});var BP=Hu(),V_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new BP.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{qP(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{FP(t,this._storage)}),this._reader.read()}};Vu.default=V_;function qP(e,t){e(t)}function FP(e,t){e(null,t)}});var Y_=c(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});var UP=C("stream"),jP=Hu(),$_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new jP.default(this._root,this._settings),this._stream=new UP.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};ku.default=$_});var W_=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var GP=ds(),hs=fs(),HP=ju(),K_=class extends HP.default{constructor(){super(...arguments);this._scandir=GP.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!hs.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=hs.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),hs.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&hs.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};$u.default=K_});var z_=c(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});var VP=W_(),X_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new VP.default(this._root,this._settings)}read(){return this._reader.read()}};Yu.default=X_});var Z_=c(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});var kP=C("path"),$P=ds(),Q_=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,kP.sep),this.fsScandirSettings=new $P.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t!=null?t:r}};Ku.default=Q_});var Xu=c(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.Settings=nt.walkStream=nt.walkSync=nt.walk=void 0;var J_=k_(),YP=Y_(),KP=z_(),Wu=Z_();nt.Settings=Wu.default;function WP(e,t,r){if(typeof t=="function"){new J_.default(e,gs()).read(t);return}new J_.default(e,gs(t)).read(r)}nt.walk=WP;function XP(e,t){let r=gs(t);return new KP.default(e,r).read()}nt.walkSync=XP;function zP(e,t){let r=gs(t);return new YP.default(e,r).read()}nt.walkStream=zP;function gs(e={}){return e instanceof Wu.default?e:new Wu.default(e)}});var Qu=c(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var QP=C("path"),ZP=er(),eh=At(),th=class{constructor(t){this._settings=t,this._fsStatSettings=new ZP.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return QP.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:eh.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!eh.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};zu.default=th});var Ju=c(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});var JP=C("stream"),e0=er(),t0=Xu(),r0=Qu(),rh=class extends r0.default{constructor(){super(...arguments);this._walkStream=t0.walkStream,this._stat=e0.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new JP.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};Zu.default=rh});var ih=c(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});var Gr=At(),nh=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=Gr.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return Gr.pattern.getPatternParts(t,this._micromatchOptions).map(n=>Gr.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Gr.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return Gr.array.splitWhen(t,r=>r.dynamic&&Gr.pattern.hasGlobStar(r.pattern))}};ec.default=nh});var oh=c(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});var n0=ih(),sh=class extends n0.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,l)=>{let p=s.segments[l];return!!(p.dynamic&&p.patternRe.test(u)||!p.dynamic&&p.pattern===u)}))return!0}return!1}};tc.default=sh});var uh=c(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var ms=At(),i0=oh(),ah=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new i0.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(ms.pattern.isAffectDepthOfReadingPattern);return ms.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=ms.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===Infinity?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!ms.pattern.matchAny(t,r)}};rc.default=ah});var lh=c(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});var tr=At(),ch=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=tr.pattern.convertPatternsToRe(t,this._micromatchOptions),i=tr.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=tr.path.makeAbsolute(this._settings.cwd,t);return tr.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=tr.path.removeLeadingDotSegment(t);return tr.pattern.matchAny(n,r)||tr.pattern.matchAny(n+"/",r)}};nc.default=ch});var dh=c(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});var s0=At(),ph=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return s0.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};ic.default=ph});var hh=c(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var fh=At(),_h=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=fh.path.makeAbsolute(this._settings.cwd,r),r=fh.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};sc.default=_h});var Es=c(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});var o0=C("path"),a0=uh(),u0=lh(),c0=dh(),l0=hh(),gh=class{constructor(t){this._settings=t,this.errorFilter=new c0.default(this._settings),this.entryFilter=new u0.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new a0.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new l0.default(this._settings)}_getRootDirectory(t){return o0.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};oc.default=gh});var Eh=c(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});var p0=Ju(),d0=Es(),mh=class extends d0.default{constructor(){super(...arguments);this._reader=new p0.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",u=>i.push(n.transform(u))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};ac.default=mh});var Ah=c(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});var f0=C("stream"),_0=Ju(),h0=Es(),Sh=class extends h0.default{constructor(){super(...arguments);this._reader=new _0.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new f0.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};uc.default=Sh});var Th=c(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});var g0=er(),m0=Xu(),E0=Qu(),yh=class extends E0.default{constructor(){super(...arguments);this._walkSync=m0.walkSync,this._statSync=g0.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};cc.default=yh});var bh=c(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var S0=Th(),A0=Es(),vh=class extends A0.default{constructor(){super(...arguments);this._reader=new S0.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};lc.default=vh});var Rh=c(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Hr=C("fs"),y0=C("os"),T0=Math.max(y0.cpus().length,1);Vr.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Hr.lstat,lstatSync:Hr.lstatSync,stat:Hr.stat,statSync:Hr.statSync,readdir:Hr.readdir,readdirSync:Hr.readdirSync};var Oh=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,T0),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,Infinity),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Vr.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Vr.default=Oh});var _c=c((eF,Ih)=>{"use strict";var Ph=n_(),Ch=s_(),v0=Eh(),b0=Ah(),O0=bh(),pc=Rh(),rr=At();async function dc(e,t){kr(e);let r=fc(e,v0.default,t),n=await Promise.all(r);return rr.array.flatten(n)}(function(e){function t(o,a){kr(o);let u=fc(o,O0.default,a);return rr.array.flatten(u)}e.sync=t;function r(o,a){kr(o);let u=fc(o,b0.default,a);return rr.stream.merge(u)}e.stream=r;function n(o,a){kr(o);let u=Ch.transform([].concat(o)),l=new pc.default(a);return Ph.generate(u,l)}e.generateTasks=n;function i(o,a){kr(o);let u=new pc.default(a);return rr.pattern.isDynamicPattern(o,u)}e.isDynamicPattern=i;function s(o){return kr(o),rr.path.escape(o)}e.escapePath=s})(dc||(dc={}));function fc(e,t,r){let n=Ch.transform([].concat(e)),i=new pc.default(r),s=Ph.generate(n,i),o=new t(i);return s.map(o.read,o)}function kr(e){if(![].concat(e).every(n=>rr.string.isString(n)&&!rr.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Ih.exports=dc});var Mh=c(nr=>{"use strict";var{promisify:R0}=C("util"),Nh=C("fs");async function hc(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await R0(Nh[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function gc(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return Nh[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}nr.isFile=hc.bind(null,"stat","isFile");nr.isDirectory=hc.bind(null,"stat","isDirectory");nr.isSymlink=hc.bind(null,"lstat","isSymbolicLink");nr.isFileSync=gc.bind(null,"statSync","isFile");nr.isDirectorySync=gc.bind(null,"statSync","isDirectory");nr.isSymlinkSync=gc.bind(null,"lstatSync","isSymbolicLink")});var Bh=c((rF,mc)=>{"use strict";var ir=C("path"),wh=Mh(),Lh=e=>e.length>1?`{${e.join(",")}}`:e[0],xh=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return ir.isAbsolute(r)?r:ir.join(t,r)},P0=(e,t)=>ir.extname(e)?`**/${e}`:`**/${e}.${Lh(t)}`,Dh=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>ir.posix.join(e,P0(r,t.extensions))):t.files?t.files.map(r=>ir.posix.join(e,`**/${r}`)):t.extensions?[ir.posix.join(e,`**/*.${Lh(t.extensions)}`)]:[ir.posix.join(e,"**")]};mc.exports=async(e,t)=>{if(t=G({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await wh.isDirectory(xh(n,t.cwd))?Dh(n,t):n));return[].concat.apply([],r)};mc.exports.sync=(e,t)=>{if(t=G({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>wh.isDirectorySync(xh(n,t.cwd))?Dh(n,t):n);return[].concat.apply([],r)}});var Kh=c((nF,Yh)=>{function qh(e){return Array.isArray(e)?e:[e]}var Fh="",Uh=" ",Ec="\\",C0=/^\s+$/,I0=/^\\!/,N0=/^\\#/,M0=/\r?\n/g,w0=/^\.*\/|^\.+$/,Sc="/",jh=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",L0=(e,t,r)=>Object.defineProperty(e,t,{value:r}),x0=/([0-z])-([0-z])/g,Gh=()=>!1,D0=e=>e.replace(x0,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Fh),B0=e=>{let{length:t}=e;return e.slice(0,t-t%2)},q0=[[/\\?\s+$/,e=>e.indexOf("\\")===0?Uh:Fh],[/\\\s/g,()=>Uh],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Ec],[/\\\\/g,()=>Ec],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===Ec?`\\[${r}${B0(n)}${i}`:i==="]"&&n.length%2==0?`[${D0(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Hh=Object.create(null),F0=(e,t)=>{let r=Hh[e];return r||(r=q0.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),Hh[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Ac=e=>typeof e=="string",U0=e=>e&&Ac(e)&&!C0.test(e)&&e.indexOf("#")!==0,j0=e=>e.split(M0),Vh=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},G0=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(I0,"!").replace(N0,"#");let i=F0(e,t);return new Vh(r,e,n,i)},H0=(e,t)=>{throw new t(e)},Tt=(e,t,r)=>Ac(e)?e?Tt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),kh=e=>w0.test(e);Tt.isNotRelative=kh;Tt.convert=e=>e;var $h=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){L0(this,jh,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[jh]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(U0(t)){let r=G0(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,qh(Ac(t)?j0(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Tt.convert(t);return Tt(s,t,this._allowRelativePaths?Gh:H0),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Sc)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(Sc)+Sc,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return qh(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Ss=e=>new $h(e),V0=e=>Tt(e&&Tt.convert(e),e,Gh);Ss.isPathValid=V0;Ss.default=Ss;Yh.exports=Ss;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Tt.convert=e;let t=/^[a-z]:\//i;Tt.isNotRelative=r=>t.test(r)||kh(r)}});var Xh=c((iF,Wh)=>{"use strict";Wh.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var rg=c((sF,yc)=>{"use strict";var{promisify:k0}=C("util"),zh=C("fs"),vt=C("path"),Qh=_c(),$0=Kh(),Hn=Xh(),Zh=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],Y0=k0(zh.readFile),K0=e=>t=>t.startsWith("!")?"!"+vt.posix.join(e,t.slice(1)):vt.posix.join(e,t),W0=(e,t)=>{let r=Hn(vt.relative(t.cwd,vt.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(K0(r))},Jh=e=>{let t=$0();for(let r of e)t.add(W0(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},X0=(e,t)=>{if(e=Hn(e),vt.isAbsolute(t)){if(Hn(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return vt.join(e,t)},eg=(e,t)=>r=>e.ignores(Hn(vt.relative(t,X0(t,r.path||r)))),z0=async(e,t)=>{let r=vt.join(t,e),n=await Y0(r,"utf8");return{cwd:t,filePath:r,content:n}},Q0=(e,t)=>{let r=vt.join(t,e),n=zh.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},tg=({ignore:e=[],cwd:t=Hn(process.cwd())}={})=>({ignore:e,cwd:t});yc.exports=async e=>{e=tg(e);let t=await Qh("**/.gitignore",{ignore:Zh.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>z0(i,e.cwd))),n=Jh(r);return eg(n,e.cwd)};yc.exports.sync=e=>{e=tg(e);let r=Qh.sync("**/.gitignore",{ignore:Zh.concat(e.ignore),cwd:e.cwd}).map(i=>Q0(i,e.cwd)),n=Jh(r);return eg(n,e.cwd)}});var og=c((oF,sg)=>{"use strict";var{Transform:Z0}=C("stream"),Tc=class extends Z0{constructor(){super({objectMode:!0})}},ng=class extends Tc{constructor(t){super();this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},ig=class extends Tc{constructor(){super();this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};sg.exports={FilterStream:ng,UniqueStream:ig}});var pg=c((aF,sr)=>{"use strict";var ag=C("fs"),As=Sd(),J0=iu(),ys=_c(),Ts=Bh(),vc=rg(),{FilterStream:eC,UniqueStream:tC}=og(),ug=()=>!1,cg=e=>e[0]==="!",rC=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},nC=(e={})=>{if(!e.cwd)return;let t;try{t=ag.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},iC=e=>e.stats instanceof ag.Stats?e.path:e,vs=(e,t)=>{e=As([].concat(e)),rC(e),nC(t);let r=[];t=G({ignore:[],expandDirectories:!0},t);for(let[n,i]of e.entries()){if(cg(i))continue;let s=e.slice(n).filter(a=>cg(a)).map(a=>a.slice(1)),o=pe(G({},t),{ignore:t.ignore.concat(s)});r.push({pattern:i,options:o})}return r},sC=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r=pe(G({},r),{files:e.options.expandDirectories}):typeof e.options.expandDirectories=="object"&&(r=G(G({},r),e.options.expandDirectories)),t(e.pattern,r)},bc=(e,t)=>e.options.expandDirectories?sC(e,t):[e.pattern],lg=e=>e&&e.gitignore?vc.sync({cwd:e.cwd,ignore:e.ignore}):ug,Oc=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Ts.sync(r.ignore)),{pattern:t,options:r}};sr.exports=async(e,t)=>{let r=vs(e,t),n=async()=>t&&t.gitignore?vc({cwd:t.cwd,ignore:t.ignore}):ug,i=async()=>{let u=await Promise.all(r.map(async l=>{let p=await bc(l,Ts);return Promise.all(p.map(Oc(l)))}));return As(...u)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(u=>ys(u.pattern,u.options)));return As(...a).filter(u=>!s(iC(u)))};sr.exports.sync=(e,t)=>{let r=vs(e,t),n=[];for(let o of r){let a=bc(o,Ts.sync).map(Oc(o));n.push(...a)}let i=lg(t),s=[];for(let o of n)s=As(s,ys.sync(o.pattern,o.options));return s.filter(o=>!i(o))};sr.exports.stream=(e,t)=>{let r=vs(e,t),n=[];for(let a of r){let u=bc(a,Ts.sync).map(Oc(a));n.push(...u)}let i=lg(t),s=new eC(a=>!i(a)),o=new tC;return J0(n.map(a=>ys.stream(a.pattern,a.options))).pipe(s).pipe(o)};sr.exports.generateGlobTasks=vs;sr.exports.hasMagic=(e,t)=>[].concat(e).some(r=>ys.isDynamicPattern(r,t));sr.exports.gitignore=vc});var $r=c((SF,or)=>{"use strict";function mg(e){return typeof e=="undefined"||e===null}function uC(e){return typeof e=="object"&&e!==null}function cC(e){return Array.isArray(e)?e:mg(e)?[]:[e]}function lC(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function pC(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function dC(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}or.exports.isNothing=mg;or.exports.isObject=uC;or.exports.toArray=cC;or.exports.repeat=pC;or.exports.isNegativeZero=dC;or.exports.extend=lC});var Yr=c((AF,Sg)=>{"use strict";function Eg(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Vn(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Eg(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Vn.prototype=Object.create(Error.prototype);Vn.prototype.constructor=Vn;Vn.prototype.toString=function(t){return this.name+": "+Eg(this,t)};Sg.exports=Vn});var yg=c((yF,Ag)=>{"use strict";var kn=$r();function Pc(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Cc(e,t){return kn.repeat(" ",t-e.length)+e}function fC(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,l,p=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+p+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)l=Pc(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),f),a=kn.repeat(" ",t.indent)+Cc((e.line-u+1).toString(),p)+" | "+l.str+`
`+a;for(l=Pc(e.buffer,n[o],i[o],e.position,f),a+=kn.repeat(" ",t.indent)+Cc((e.line+1).toString(),p)+" | "+l.str+`
`,a+=kn.repeat("-",t.indent+p+3+l.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)l=Pc(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),f),a+=kn.repeat(" ",t.indent)+Cc((e.line+u+1).toString(),p)+" | "+l.str+`
`;return a.replace(/\n$/,"")}Ag.exports=fC});var ge=c((TF,vg)=>{"use strict";var Tg=Yr(),_C=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],hC=["scalar","sequence","mapping"];function gC(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function mC(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(_C.indexOf(r)===-1)throw new Tg('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=gC(t.styleAliases||null),hC.indexOf(this.kind)===-1)throw new Tg('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}vg.exports=mC});var Mc=c((vF,Og)=>{"use strict";var $n=Yr(),Ic=ge();function bg(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function EC(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Nc(e){return this.extend(e)}Nc.prototype.extend=function(t){var r=[],n=[];if(t instanceof Ic)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new $n("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Ic))throw new $n("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new $n("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new $n("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Ic))throw new $n("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Nc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=bg(i,"implicit"),i.compiledExplicit=bg(i,"explicit"),i.compiledTypeMap=EC(i.compiledImplicit,i.compiledExplicit),i};Og.exports=Nc});var wc=c((bF,Rg)=>{"use strict";var SC=ge();Rg.exports=new SC("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var Lc=c((OF,Pg)=>{"use strict";var AC=ge();Pg.exports=new AC("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var xc=c((RF,Cg)=>{"use strict";var yC=ge();Cg.exports=new yC("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var Dc=c((PF,Ig)=>{"use strict";var TC=Mc();Ig.exports=new TC({explicit:[wc(),Lc(),xc()]})});var Bc=c((CF,Ng)=>{"use strict";var vC=ge();function bC(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function OC(){return null}function RC(e){return e===null}Ng.exports=new vC("tag:yaml.org,2002:null",{kind:"scalar",resolve:bC,construct:OC,predicate:RC,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var qc=c((IF,Mg)=>{"use strict";var PC=ge();function CC(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function IC(e){return e==="true"||e==="True"||e==="TRUE"}function NC(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Mg.exports=new PC("tag:yaml.org,2002:bool",{kind:"scalar",resolve:CC,construct:IC,predicate:NC,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var Fc=c((NF,wg)=>{"use strict";var MC=$r(),wC=ge();function LC(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function xC(e){return 48<=e&&e<=55}function DC(e){return 48<=e&&e<=57}function BC(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!LC(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!xC(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!DC(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function qC(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function FC(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!MC.isNegativeZero(e)}wg.exports=new wC("tag:yaml.org,2002:int",{kind:"scalar",resolve:BC,construct:qC,predicate:FC,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var Uc=c((MF,xg)=>{"use strict";var Lg=$r(),UC=ge(),jC=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function GC(e){return!(e===null||!jC.test(e)||e[e.length-1]==="_")}function HC(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var VC=/^[-+]?[0-9]+e/;function kC(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Lg.isNegativeZero(e))return"-0.0";return r=e.toString(10),VC.test(r)?r.replace("e",".e"):r}function $C(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||Lg.isNegativeZero(e))}xg.exports=new UC("tag:yaml.org,2002:float",{kind:"scalar",resolve:GC,construct:HC,predicate:$C,represent:kC,defaultStyle:"lowercase"})});var jc=c((wF,Dg)=>{"use strict";Dg.exports=Dc().extend({implicit:[Bc(),qc(),Fc(),Uc()]})});var Gc=c((LF,Bg)=>{"use strict";Bg.exports=jc()});var Hc=c((xF,Ug)=>{"use strict";var YC=ge(),qg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Fg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function KC(e){return e===null?!1:qg.exec(e)!==null||Fg.exec(e)!==null}function WC(e){var t,r,n,i,s,o,a,u=0,l=null,p,f,d;if(t=qg.exec(e),t===null&&(t=Fg.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(p=+t[10],f=+(t[11]||0),l=(p*60+f)*6e4,t[9]==="-"&&(l=-l)),d=new Date(Date.UTC(r,n,i,s,o,a,u)),l&&d.setTime(d.getTime()-l),d}function XC(e){return e.toISOString()}Ug.exports=new YC("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:KC,construct:WC,instanceOf:Date,represent:XC})});var Vc=c((DF,jg)=>{"use strict";var zC=ge();function QC(e){return e==="<<"||e===null}jg.exports=new zC("tag:yaml.org,2002:merge",{kind:"scalar",resolve:QC})});var $c=c((BF,Gg)=>{"use strict";var ZC=ge(),kc=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function JC(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=kc;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function eI(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=kc,o=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function tI(e){var t="",r=0,n,i,s=e.length,o=kc;for(n=0;n<s;n++)n%3==0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function rI(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Gg.exports=new ZC("tag:yaml.org,2002:binary",{kind:"scalar",resolve:JC,construct:eI,predicate:rI,represent:tI})});var Yc=c((qF,Hg)=>{"use strict";var nI=ge(),iI=Object.prototype.hasOwnProperty,sI=Object.prototype.toString;function oI(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,sI.call(i)!=="[object Object]")return!1;for(s in i)if(iI.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function aI(e){return e!==null?e:[]}Hg.exports=new nI("tag:yaml.org,2002:omap",{kind:"sequence",resolve:oI,construct:aI})});var Kc=c((FF,Vg)=>{"use strict";var uI=ge(),cI=Object.prototype.toString;function lI(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],cI.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function pI(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}Vg.exports=new uI("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:lI,construct:pI})});var Wc=c((UF,kg)=>{"use strict";var dI=ge(),fI=Object.prototype.hasOwnProperty;function _I(e){if(e===null)return!0;var t,r=e;for(t in r)if(fI.call(r,t)&&r[t]!==null)return!1;return!0}function hI(e){return e!==null?e:{}}kg.exports=new dI("tag:yaml.org,2002:set",{kind:"mapping",resolve:_I,construct:hI})});var Os=c((jF,$g)=>{"use strict";$g.exports=Gc().extend({implicit:[Hc(),Vc()],explicit:[$c(),Yc(),Kc(),Wc()]})});var am=c((GF,Zc)=>{"use strict";var ar=$r(),Yg=Yr(),gI=yg(),mI=Os(),Bt=Object.prototype.hasOwnProperty,Rs=1,Kg=2,Wg=3,Ps=4,Xc=1,EI=2,Xg=3,SI=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,AI=/[\x85\u2028\u2029]/,yI=/[,\[\]\{\}]/,zg=/^(?:!|!!|![a-z\-]+!)$/i,Qg=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Zg(e){return Object.prototype.toString.call(e)}function it(e){return e===10||e===13}function ur(e){return e===9||e===32}function Ce(e){return e===9||e===32||e===10||e===13}function Kr(e){return e===44||e===91||e===93||e===123||e===125}function TI(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function vI(e){return e===120?2:e===117?4:e===85?8:0}function bI(e){return 48<=e&&e<=57?e-48:-1}function Jg(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function OI(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var em=new Array(256),tm=new Array(256);for(var Wr=0;Wr<256;Wr++)em[Wr]=Jg(Wr)?1:0,tm[Wr]=Jg(Wr);function RI(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||mI,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function rm(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=gI(r),new Yg(t,r)}function R(e,t){throw rm(e,t)}function Cs(e,t){e.onWarning&&e.onWarning.call(null,rm(e,t))}var nm={YAML:function(t,r,n){var i,s,o;t.version!==null&&R(t,"duplication of %YAML directive"),n.length!==1&&R(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&R(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&R(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Cs(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&R(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],zg.test(i)||R(t,"ill-formed tag handle (first argument) of the TAG directive"),Bt.call(t.tagMap,i)&&R(t,'there is a previously declared suffix for "'+i+'" tag handle'),Qg.test(s)||R(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(o){R(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function qt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||R(e,"expected valid JSON character");else SI.test(a)&&R(e,"the stream contains non-printable characters");e.result+=a}}function im(e,t,r,n){var i,s,o,a;for(ar.isObject(r)||R(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],Bt.call(t,s)||(t[s]=r[s],n[s]=!0)}function Xr(e,t,r,n,i,s,o,a,u){var l,p;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,p=i.length;l<p;l+=1)Array.isArray(i[l])&&R(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Zg(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&Zg(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,p=s.length;l<p;l+=1)im(e,t,s[l],r);else im(e,t,s,r);else!e.json&&!Bt.call(r,i)&&Bt.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,R(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function zc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):R(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ne(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;ur(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(it(i))for(zc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Cs(e,"deficient indentation"),n}function Is(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ce(r)))}function Qc(e,t){t===1?e.result+=" ":t>1&&(e.result+=ar.repeat(`
`,t-1))}function PI(e,t,r){var n,i,s,o,a,u,l,p,f=e.kind,d=e.result,m;if(m=e.input.charCodeAt(e.position),Ce(m)||Kr(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),Ce(i)||r&&Kr(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),Ce(i)||r&&Kr(i))break}else if(m===35){if(n=e.input.charCodeAt(e.position-1),Ce(n))break}else{if(e.position===e.lineStart&&Is(e)||r&&Kr(m))break;if(it(m))if(u=e.line,l=e.lineStart,p=e.lineIndent,ne(e,!1,-1),e.lineIndent>=t){a=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=l,e.lineIndent=p;break}}a&&(qt(e,s,o,!1),Qc(e,e.line-u),s=o=e.position,a=!1),ur(m)||(o=e.position+1),m=e.input.charCodeAt(++e.position)}return qt(e,s,o,!1),e.result?!0:(e.kind=f,e.result=d,!1)}function CI(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(qt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else it(r)?(qt(e,n,i,!0),Qc(e,ne(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Is(e)?R(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);R(e,"unexpected end of the stream within a single quoted scalar")}function II(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return qt(e,r,e.position,!0),e.position++,!0;if(a===92){if(qt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),it(a))ne(e,!1,t);else if(a<256&&em[a])e.result+=tm[a],e.position++;else if((o=vI(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=TI(a))>=0?s=(s<<4)+o:R(e,"expected hexadecimal character");e.result+=OI(s),e.position++}else R(e,"unknown escape sequence");r=n=e.position}else it(a)?(qt(e,r,n,!0),Qc(e,ne(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Is(e)?R(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}R(e,"unexpected end of the stream within a double quoted scalar")}function NI(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,l,p,f,d,m,g=Object.create(null),S,y,b,v;if(v=e.input.charCodeAt(e.position),v===91)p=93,m=!1,a=[];else if(v===123)p=125,m=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),v=e.input.charCodeAt(++e.position);v!==0;){if(ne(e,!0,t),v=e.input.charCodeAt(e.position),v===p)return e.position++,e.tag=o,e.anchor=u,e.kind=m?"mapping":"sequence",e.result=a,!0;r?v===44&&R(e,"expected the node content, but found ','"):R(e,"missed comma between flow collection entries"),y=S=b=null,f=d=!1,v===63&&(l=e.input.charCodeAt(e.position+1),Ce(l)&&(f=d=!0,e.position++,ne(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,zr(e,t,Rs,!1,!0),y=e.tag,S=e.result,ne(e,!0,t),v=e.input.charCodeAt(e.position),(d||e.line===n)&&v===58&&(f=!0,v=e.input.charCodeAt(++e.position),ne(e,!0,t),zr(e,t,Rs,!1,!0),b=e.result),m?Xr(e,a,g,y,S,b,n,i,s):f?a.push(Xr(e,null,g,y,S,b,n,i,s)):a.push(S),ne(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}R(e,"unexpected end of the stream within a flow collection")}function MI(e,t){var r,n,i=Xc,s=!1,o=!1,a=t,u=0,l=!1,p,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)Xc===i?i=f===43?Xg:EI:R(e,"repeat of a chomping mode identifier");else if((p=bI(f))>=0)p===0?R(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?R(e,"repeat of an indentation width identifier"):(a=t+p-1,o=!0);else break;if(ur(f)){do f=e.input.charCodeAt(++e.position);while(ur(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!it(f)&&f!==0)}for(;f!==0;){for(zc(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),it(f)){u++;continue}if(e.lineIndent<a){i===Xg?e.result+=ar.repeat(`
`,s?1+u:u):i===Xc&&s&&(e.result+=`
`);break}for(n?ur(f)?(l=!0,e.result+=ar.repeat(`
`,s?1+u:u)):l?(l=!1,e.result+=ar.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=ar.repeat(`
`,u):e.result+=ar.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!it(f)&&f!==0;)f=e.input.charCodeAt(++e.position);qt(e,r,e.position,!1)}return!0}function sm(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,R(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!Ce(o))));){if(a=!0,e.position++,ne(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,zr(e,t,Wg,!1,!0),s.push(e.result),ne(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)R(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function wI(e,t,r){var n,i,s,o,a,u,l=e.tag,p=e.anchor,f={},d=Object.create(null),m=null,g=null,S=null,y=!1,b=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),v=e.input.charCodeAt(e.position);v!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,R(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(v===63||v===58)&&Ce(n))v===63?(y&&(Xr(e,f,d,m,g,null,o,a,u),m=g=S=null),b=!0,y=!0,i=!0):y?(y=!1,i=!0):R(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(o=e.line,a=e.lineStart,u=e.position,!zr(e,r,Kg,!1,!0))break;if(e.line===s){for(v=e.input.charCodeAt(e.position);ur(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),Ce(v)||R(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Xr(e,f,d,m,g,null,o,a,u),m=g=S=null),b=!0,y=!1,i=!1,m=e.tag,g=e.result;else if(b)R(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=p,!0}else if(b)R(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=p,!0}if((e.line===s||e.lineIndent>t)&&(y&&(o=e.line,a=e.lineStart,u=e.position),zr(e,t,Ps,!0,i)&&(y?g=e.result:S=e.result),y||(Xr(e,f,d,m,g,S,o,a,u),m=g=S=null),ne(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&v!==0)R(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Xr(e,f,d,m,g,null,o,a,u),b&&(e.tag=l,e.anchor=p,e.kind="mapping",e.result=f),b}function LI(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&R(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):R(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ce(o);)o===33&&(n?R(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),zg.test(i)||R(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),yI.test(s)&&R(e,"tag suffix cannot contain flow indicator characters")}s&&!Qg.test(s)&&R(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch(a){R(e,"tag name is malformed: "+s)}return r?e.tag=s:Bt.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:R(e,'undeclared tag handle "'+i+'"'),!0}function xI(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&R(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ce(r)&&!Kr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&R(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function DI(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ce(n)&&!Kr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&R(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Bt.call(e.anchorMap,r)||R(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ne(e,!0,-1),!0}function zr(e,t,r,n,i){var s,o,a,u=1,l=!1,p=!1,f,d,m,g,S,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ps===r||Wg===r,n&&ne(e,!0,-1)&&(l=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;LI(e)||xI(e);)ne(e,!0,-1)?(l=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=l||i),(u===1||Ps===r)&&(Rs===r||Kg===r?S=t:S=t+1,y=e.position-e.lineStart,u===1?a&&(sm(e,y)||wI(e,y,S))||NI(e,S)?p=!0:(o&&MI(e,S)||CI(e,S)||II(e,S)?p=!0:DI(e)?(p=!0,(e.tag!==null||e.anchor!==null)&&R(e,"alias node should not have any properties")):PI(e,S,Rs===r)&&(p=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(p=a&&sm(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&R(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,d=e.implicitTypes.length;f<d;f+=1)if(g=e.implicitTypes[f],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Bt.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,m=e.typeMap.multi[e.kind||"fallback"],f=0,d=m.length;f<d;f+=1)if(e.tag.slice(0,m[f].tag.length)===m[f].tag){g=m[f];break}g||R(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&R(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):R(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||p}function BI(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(ne(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Ce(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&R(e,"directive name must not be less than one character in length");o!==0;){for(;ur(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!it(o));break}if(it(o))break;for(r=e.position;o!==0&&!Ce(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&zc(e),Bt.call(nm,n)?nm[n](e,n,i):Cs(e,'unknown document directive "'+n+'"')}if(ne(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ne(e,!0,-1)):s&&R(e,"directives end mark is expected"),zr(e,e.lineIndent-1,Ps,!1,!0),ne(e,!0,-1),e.checkLineBreaks&&AI.test(e.input.slice(t,e.position))&&Cs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Is(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ne(e,!0,-1));return}if(e.position<e.length-1)R(e,"end of the stream or a document separator is expected");else return}function om(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new RI(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,R(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)BI(r);return r.documents}function qI(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=om(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function FI(e,t){var r=om(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Yg("expected a single document in the stream, but found more")}}Zc.exports.loadAll=qI;Zc.exports.load=FI});var Cm=c((HF,Pm)=>{"use strict";var Ns=$r(),Yn=Yr(),UI=Os(),um=Object.prototype.toString,cm=Object.prototype.hasOwnProperty,Jc=65279,jI=9,Kn=10,GI=13,HI=32,VI=33,kI=34,el=35,$I=37,YI=38,KI=39,WI=42,lm=44,XI=45,Ms=58,zI=61,QI=62,ZI=63,JI=64,pm=91,dm=93,eN=96,fm=123,tN=124,_m=125,me={};me[0]="\\0";me[7]="\\a";me[8]="\\b";me[9]="\\t";me[10]="\\n";me[11]="\\v";me[12]="\\f";me[13]="\\r";me[27]="\\e";me[34]='\\"';me[92]="\\\\";me[133]="\\N";me[160]="\\_";me[8232]="\\L";me[8233]="\\P";var rN=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],nN=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function iN(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&cm.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function sN(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Yn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Ns.repeat("0",n-t.length)+t}var oN=1,Wn=2;function aN(e){this.schema=e.schema||UI,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ns.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=iN(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Wn:oN,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function hm(e,t){for(var r=Ns.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function tl(e,t){return`
`+Ns.repeat(" ",e.indent*t)}function uN(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function ws(e){return e===HI||e===jI}function Xn(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Jc||65536<=e&&e<=1114111}function gm(e){return Xn(e)&&e!==Jc&&e!==GI&&e!==Kn}function mm(e,t,r){var n=gm(e),i=n&&!ws(e);return(r?n:n&&e!==lm&&e!==pm&&e!==dm&&e!==fm&&e!==_m)&&e!==el&&!(t===Ms&&!i)||gm(t)&&!ws(t)&&e===el||t===Ms&&i}function cN(e){return Xn(e)&&e!==Jc&&!ws(e)&&e!==XI&&e!==ZI&&e!==Ms&&e!==lm&&e!==pm&&e!==dm&&e!==fm&&e!==_m&&e!==el&&e!==YI&&e!==WI&&e!==VI&&e!==tN&&e!==zI&&e!==QI&&e!==KI&&e!==kI&&e!==$I&&e!==JI&&e!==eN}function lN(e){return!ws(e)&&e!==Ms}function zn(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Em(e){var t=/^\n* /;return t.test(e)}var Sm=1,rl=2,Am=3,ym=4,Qr=5;function pN(e,t,r,n,i,s,o,a){var u,l=0,p=null,f=!1,d=!1,m=n!==-1,g=-1,S=cN(zn(e,0))&&lN(zn(e,e.length-1));if(t||o)for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=zn(e,u),!Xn(l))return Qr;S=S&&mm(l,p,a),p=l}else{for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=zn(e,u),l===Kn)f=!0,m&&(d=d||u-g-1>n&&e[g+1]!==" ",g=u);else if(!Xn(l))return Qr;S=S&&mm(l,p,a),p=l}d=d||m&&u-g-1>n&&e[g+1]!==" "}return!f&&!d?S&&!o&&!i(e)?Sm:s===Wn?Qr:rl:r>9&&Em(e)?Qr:o?s===Wn?Qr:rl:d?ym:Am}function dN(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Wn?'""':"''";if(!e.noCompatMode&&(rN.indexOf(t)!==-1||nN.test(t)))return e.quotingType===Wn?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(l){return uN(e,l)}switch(pN(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case Sm:return t;case rl:return"'"+t.replace(/'/g,"''")+"'";case Am:return"|"+Tm(t,e.indent)+vm(hm(t,s));case ym:return">"+Tm(t,e.indent)+vm(hm(fN(t,o),s));case Qr:return'"'+_N(t,o)+'"';default:throw new Yn("impossible error: invalid scalar style")}}()}function Tm(e,t){var r=Em(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function vm(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function fN(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,bm(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+bm(u,t),i=s}return n}function bm(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function _N(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=zn(e,i),n=me[r],!n&&Xn(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||sN(r);return t}function hN(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(bt(e,t,a,!1,!1)||typeof a=="undefined"&&bt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Om(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(bt(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&bt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=tl(e,t)),e.dump&&Kn===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function gN(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,l,p;for(o=0,a=s.length;o<a;o+=1)p="",n!==""&&(p+=", "),e.condenseFlow&&(p+='"'),u=s[o],l=r[u],e.replacer&&(l=e.replacer.call(r,u,l)),!!bt(e,t,u,!1,!1)&&(e.dump.length>1024&&(p+="? "),p+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!bt(e,t,l,!1,!1)&&(p+=e.dump,n+=p));e.tag=i,e.dump="{"+n+"}"}function mN(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,l,p,f,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Yn("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)d="",(!n||i!=="")&&(d+=tl(e,t)),l=o[a],p=r[l],e.replacer&&(p=e.replacer.call(r,l,p)),!!bt(e,t+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&Kn===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,f&&(d+=tl(e,t)),!!bt(e,t+1,p,!0,f)&&(e.dump&&Kn===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=s,e.dump=i||"{}"}function Rm(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,um.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(cm.call(a.represent,u))n=a.represent[u](t,u);else throw new Yn("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function bt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,Rm(e,r,!1)||Rm(e,r,!0);var a=um.call(e.dump),u=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var p=a==="[object Object]"||a==="[object Array]",f,d;if(p&&(f=e.duplicates.indexOf(r),d=f!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(p&&d&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(mN(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(gN(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Om(e,t-1,e.dump,i):Om(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(hN(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&dN(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Yn("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function EN(e,t){var r=[],n=[],i,s;for(nl(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function nl(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)nl(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)nl(e[n[i]],t,r)}function SN(e,t){t=t||{};var r=new aN(t);r.noRefs||EN(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),bt(r,0,n,!0,!0)?r.dump+`
`:""}Pm.exports.dump=SN});var Nm=c((VF,be)=>{"use strict";var Im=am(),AN=Cm();function il(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}be.exports.Type=ge();be.exports.Schema=Mc();be.exports.FAILSAFE_SCHEMA=Dc();be.exports.JSON_SCHEMA=jc();be.exports.CORE_SCHEMA=Gc();be.exports.DEFAULT_SCHEMA=Os();be.exports.load=Im.load;be.exports.loadAll=Im.loadAll;be.exports.dump=AN.dump;be.exports.YAMLException=Yr();be.exports.types={binary:$c(),float:Uc(),map:xc(),null:Bc(),pairs:Kc(),set:Wc(),timestamp:Hc(),bool:qc(),int:Fc(),merge:Vc(),omap:Yc(),seq:Lc(),str:wc()};be.exports.safeLoad=il("safeLoad","load");be.exports.safeLoadAll=il("safeLoadAll","loadAll");be.exports.safeDump=il("safeDump","dump")});var Lm=c(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0})});var xm=c(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs._globalThis=void 0;xs._globalThis=typeof globalThis=="object"?globalThis:global});var Dm=c(cr=>{"use strict";var ON=cr&&cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RN=cr&&cr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ON(t,e,r)};Object.defineProperty(cr,"__esModule",{value:!0});RN(xm(),cr)});var Bm=c(lr=>{"use strict";var PN=lr&&lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CN=lr&&lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&PN(t,e,r)};Object.defineProperty(lr,"__esModule",{value:!0});CN(Dm(),lr)});var ol=c(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.VERSION=void 0;Ds.VERSION="1.1.0"});var Um=c(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.isCompatible=Zr._makeCompatibilityCheck=void 0;var IN=ol(),qm=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Fm(e){var t=new Set([e]),r=new Set,n=e.match(qm);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var l=u.match(qm);if(!l)return s(u);var p={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return p.prerelease!=null||i.major!==p.major?s(u):i.major===0?i.minor===p.minor&&i.patch<=p.patch?o(u):s(u):i.minor<=p.minor?o(u):s(u)}}Zr._makeCompatibilityCheck=Fm;Zr.isCompatible=Fm(IN.VERSION)});var Jr=c(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.unregisterGlobal=Ft.getGlobal=Ft.registerGlobal=void 0;var NN=Bm(),Zn=ol(),MN=Um(),wN=Zn.VERSION.split(".")[0],Jn=Symbol.for("opentelemetry.js.api."+wN),ei=NN._globalThis;function LN(e,t,r,n){var i;n===void 0&&(n=!1);var s=ei[Jn]=(i=ei[Jn])!==null&&i!==void 0?i:{version:Zn.VERSION};if(!n&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(o.stack||o.message),!1}if(s.version!==Zn.VERSION){var o=new Error("@opentelemetry/api: All API registration versions must match");return r.error(o.stack||o.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Zn.VERSION+"."),!0}Ft.registerGlobal=LN;function xN(e){var t,r,n=(t=ei[Jn])===null||t===void 0?void 0:t.version;if(!(!n||!MN.isCompatible(n)))return(r=ei[Jn])===null||r===void 0?void 0:r[e]}Ft.getGlobal=xN;function DN(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Zn.VERSION+".");var r=ei[Jn];r&&delete r[e]}Ft.unregisterGlobal=DN});var jm=c(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.DiagComponentLogger=void 0;var BN=Jr(),qN=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ti("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ti("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ti("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ti("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ti("verbose",this._namespace,t)},e}();Bs.DiagComponentLogger=qN;function ti(e,t,r){var n=BN.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var qs=c(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.DiagLogLevel=void 0;var FN;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(FN=ri.DiagLogLevel||(ri.DiagLogLevel={}))});var Gm=c(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.createLogLevelDiagLogger=void 0;var Ot=qs();function UN(e,t){e<Ot.DiagLogLevel.NONE?e=Ot.DiagLogLevel.NONE:e>Ot.DiagLogLevel.ALL&&(e=Ot.DiagLogLevel.ALL),t=t||{};function r(n,i){var s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",Ot.DiagLogLevel.ERROR),warn:r("warn",Ot.DiagLogLevel.WARN),info:r("info",Ot.DiagLogLevel.INFO),debug:r("debug",Ot.DiagLogLevel.DEBUG),verbose:r("verbose",Ot.DiagLogLevel.VERBOSE)}}Fs.createLogLevelDiagLogger=UN});var en=c(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.DiagAPI=void 0;var jN=jm(),GN=Gm(),HN=qs(),Us=Jr(),VN="diag",kN=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=Us.getGlobal("diag");if(!!o)return o[n].apply(o,i)}}var r=this;r.setLogger=function(n,i){var s,o;if(i===void 0&&(i=HN.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=a.stack)!==null&&s!==void 0?s:a.message),!1}var u=Us.getGlobal("diag"),l=GN.createLogLevelDiagLogger(i,n);if(u){var p=(o=new Error().stack)!==null&&o!==void 0?o:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),l.warn("Current logger will overwrite one already registered from "+p)}return Us.registerGlobal("diag",l,r,!0)},r.disable=function(){Us.unregisterGlobal(VN,r)},r.createComponentLogger=function(n){return new jN.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();js.DiagAPI=kN});var Hm=c(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.BaggageImpl=void 0;var $N=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,s=t;i<s.length;i++){var o=s[i];n._entries.delete(o)}return n},e.prototype.clear=function(){return new e},e}();Gs.BaggageImpl=$N});var Vm=c(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.baggageEntryMetadataSymbol=void 0;Hs.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var al=c(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.baggageEntryMetadataFromString=tn.createBaggage=void 0;var YN=en(),KN=Hm(),WN=Vm(),XN=YN.DiagAPI.instance();function zN(e){return e===void 0&&(e={}),new KN.BaggageImpl(new Map(Object.entries(e)))}tn.createBaggage=zN;function QN(e){return typeof e!="string"&&(XN.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:WN.baggageEntryMetadataSymbol,toString:function(){return e}}}tn.baggageEntryMetadataFromString=QN});var $m=c(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0})});var Km=c(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0})});var Xm=c(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0})});var zm=c(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.DiagConsoleLogger=void 0;var ul=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],ZN=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(console){var o=console[n];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,i)}}}for(var r=0;r<ul.length;r++)this[ul[r].n]=t(ul[r].c)}return e}();Vs.DiagConsoleLogger=ZN});var Zm=c(Ut=>{"use strict";var JN=Ut&&Ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qm=Ut&&Ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&JN(t,e,r)};Object.defineProperty(Ut,"__esModule",{value:!0});Qm(zm(),Ut);Qm(qs(),Ut)});var cl=c(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.defaultTextMapSetter=rn.defaultTextMapGetter=void 0;rn.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};rn.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var eE=c(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0})});var rE=c(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0})});var ni=c(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.ROOT_CONTEXT=nn.createContextKey=void 0;function eM(e){return Symbol.for(e)}nn.createContextKey=eM;var tM=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var s=new e(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();nn.ROOT_CONTEXT=new tM});var nE=c(sn=>{"use strict";var rM=sn&&sn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(sn,"__esModule",{value:!0});sn.NoopContextManager=void 0;var nM=ni(),iM=function(){function e(){}return e.prototype.active=function(){return nM.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return r.call.apply(r,rM([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();sn.NoopContextManager=iM});var dl=c(on=>{"use strict";var sM=on&&on.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(on,"__esModule",{value:!0});on.ContextAPI=void 0;var oM=nE(),ll=Jr(),iE=en(),pl="context",aM=new oM.NoopContextManager,uM=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return ll.registerGlobal(pl,t,iE.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,sM([t,r,n],s))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return ll.getGlobal(pl)||aM},e.prototype.disable=function(){this._getContextManager().disable(),ll.unregisterGlobal(pl,iE.DiagAPI.instance())},e}();on.ContextAPI=uM});var fl=c(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.TraceFlags=void 0;var cM;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(cM=ii.TraceFlags||(ii.TraceFlags={}))});var ks=c(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.INVALID_SPAN_CONTEXT=st.INVALID_TRACEID=st.INVALID_SPANID=void 0;var lM=fl();st.INVALID_SPANID="0000000000000000";st.INVALID_TRACEID="00000000000000000000000000000000";st.INVALID_SPAN_CONTEXT={traceId:st.INVALID_TRACEID,spanId:st.INVALID_SPANID,traceFlags:lM.TraceFlags.NONE}});var Ys=c($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.NonRecordingSpan=void 0;var pM=ks(),dM=function(){function e(t){t===void 0&&(t=pM.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();$s.NonRecordingSpan=dM});var hl=c(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.getSpanContext=Ue.setSpanContext=Ue.deleteSpan=Ue.setSpan=Ue.getSpan=void 0;var fM=ni(),_M=Ys(),_l=fM.createContextKey("OpenTelemetry Context Key SPAN");function sE(e){return e.getValue(_l)||void 0}Ue.getSpan=sE;function oE(e,t){return e.setValue(_l,t)}Ue.setSpan=oE;function hM(e){return e.deleteValue(_l)}Ue.deleteSpan=hM;function gM(e,t){return oE(e,new _M.NonRecordingSpan(t))}Ue.setSpanContext=gM;function mM(e){var t;return(t=sE(e))===null||t===void 0?void 0:t.spanContext()}Ue.getSpanContext=mM});var Ks=c(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.wrapSpanContext=ot.isSpanContextValid=ot.isValidSpanId=ot.isValidTraceId=void 0;var aE=ks(),EM=Ys(),SM=/^([0-9a-f]{32})$/i,AM=/^[0-9a-f]{16}$/i;function uE(e){return SM.test(e)&&e!==aE.INVALID_TRACEID}ot.isValidTraceId=uE;function cE(e){return AM.test(e)&&e!==aE.INVALID_SPANID}ot.isValidSpanId=cE;function yM(e){return uE(e.traceId)&&cE(e.spanId)}ot.isSpanContextValid=yM;function TM(e){return new EM.NonRecordingSpan(e)}ot.wrapSpanContext=TM});var ml=c(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.NoopTracer=void 0;var vM=dl(),lE=hl(),gl=Ys(),bM=Ks(),pE=vM.ContextAPI.getInstance(),OM=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r==null?void 0:r.root);if(i)return new gl.NonRecordingSpan;var s=n&&lE.getSpanContext(n);return RM(s)&&bM.isSpanContextValid(s)?new gl.NonRecordingSpan(s):new gl.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);var u=o!=null?o:pE.active(),l=this.startSpan(t,s,u),p=lE.setSpan(u,l);return pE.with(p,a,void 0,l)}},e}();Ws.NoopTracer=OM;function RM(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var El=c(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.ProxyTracer=void 0;var PM=ml(),CM=new PM.NoopTracer,IM=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):CM},e}();Xs.ProxyTracer=IM});var dE=c(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.NoopTracerProvider=void 0;var NM=ml(),MM=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new NM.NoopTracer},e}();zs.NoopTracerProvider=MM});var Sl=c(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.ProxyTracerProvider=void 0;var wM=El(),LM=dE(),xM=new LM.NoopTracerProvider,DM=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new wM.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:xM},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();Qs.ProxyTracerProvider=DM});var _E=c(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0})});var hE=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.SamplingDecision=void 0;var BM;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(BM=si.SamplingDecision||(si.SamplingDecision={}))});var mE=c(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0})});var EE=c(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.SpanKind=void 0;var qM;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(qM=oi.SpanKind||(oi.SpanKind={}))});var AE=c(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0})});var TE=c(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0})});var vE=c(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.SpanStatusCode=void 0;var FM;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(FM=ai.SpanStatusCode||(ai.SpanStatusCode={}))});var OE=c(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0})});var RE=c(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.validateValue=an.validateKey=void 0;var Al="[_0-9a-z-*/]",UM="[a-z]"+Al+"{0,255}",jM="[a-z0-9]"+Al+"{0,240}@[a-z]"+Al+"{0,13}",GM=new RegExp("^(?:"+UM+"|"+jM+")$"),HM=/^[ -~]{0,255}[!-~]$/,VM=/,|=/;function kM(e){return GM.test(e)}an.validateKey=kM;function $M(e){return HM.test(e)&&!VM.test(e)}an.validateValue=$M});var ME=c(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.TraceStateImpl=void 0;var PE=RE(),CE=32,YM=512,IE=",",NE="=",KM=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+NE+t.get(n)),r},[]).join(IE)},e.prototype._parse=function(t){t.length>YM||(this._internalState=t.split(IE).reverse().reduce(function(r,n){var i=n.trim(),s=i.indexOf(NE);if(s!==-1){var o=i.slice(0,s),a=i.slice(s+1,n.length);PE.validateKey(o)&&PE.validateValue(a)&&r.set(o,a)}return r},new Map),this._internalState.size>CE&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,CE))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();Zs.TraceStateImpl=KM});var wE=c(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.createTraceState=void 0;var WM=ME();function XM(e){return new WM.TraceStateImpl(e)}Js.createTraceState=XM});var xE=c(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0})});var BE=c(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0})});var FE=c(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0})});var jE=c(UE=>{"use strict";Object.defineProperty(UE,"__esModule",{value:!0})});var kE=c(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.TraceAPI=void 0;var yl=Jr(),GE=Sl(),HE=Ks(),ui=hl(),VE=en(),Tl="trace",zM=function(){function e(){this._proxyTracerProvider=new GE.ProxyTracerProvider,this.wrapSpanContext=HE.wrapSpanContext,this.isSpanContextValid=HE.isSpanContextValid,this.deleteSpan=ui.deleteSpan,this.getSpan=ui.getSpan,this.getSpanContext=ui.getSpanContext,this.setSpan=ui.setSpan,this.setSpanContext=ui.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=yl.registerGlobal(Tl,this._proxyTracerProvider,VE.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return yl.getGlobal(Tl)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){yl.unregisterGlobal(Tl,VE.DiagAPI.instance()),this._proxyTracerProvider=new GE.ProxyTracerProvider},e}();eo.TraceAPI=zM});var $E=c(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.NoopTextMapPropagator=void 0;var QM=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();to.NoopTextMapPropagator=QM});var YE=c(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.deleteBaggage=jt.setBaggage=jt.getBaggage=void 0;var ZM=ni(),vl=ZM.createContextKey("OpenTelemetry Baggage Key");function JM(e){return e.getValue(vl)||void 0}jt.getBaggage=JM;function ew(e,t){return e.setValue(vl,t)}jt.setBaggage=ew;function tw(e){return e.deleteValue(vl)}jt.deleteBaggage=tw});var XE=c(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.PropagationAPI=void 0;var bl=Jr(),rw=$E(),KE=cl(),Ol=YE(),nw=al(),WE=en(),Rl="propagation",iw=new rw.NoopTextMapPropagator,sw=function(){function e(){this.createBaggage=nw.createBaggage,this.getBaggage=Ol.getBaggage,this.setBaggage=Ol.setBaggage,this.deleteBaggage=Ol.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return bl.registerGlobal(Rl,t,WE.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=KE.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=KE.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){bl.unregisterGlobal(Rl,WE.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return bl.getGlobal(Rl)||iw},e}();ro.PropagationAPI=sw});var w=c(O=>{"use strict";var ow=O&&O.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),J=O&&O.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ow(t,e,r)};Object.defineProperty(O,"__esModule",{value:!0});O.diag=O.propagation=O.trace=O.context=O.INVALID_SPAN_CONTEXT=O.INVALID_TRACEID=O.INVALID_SPANID=O.isValidSpanId=O.isValidTraceId=O.isSpanContextValid=O.createTraceState=O.baggageEntryMetadataFromString=void 0;J(Lm(),O);var aw=al();Object.defineProperty(O,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return aw.baggageEntryMetadataFromString}});J($m(),O);J(Km(),O);J(Xm(),O);J(Zm(),O);J(cl(),O);J(eE(),O);J(rE(),O);J(El(),O);J(Sl(),O);J(_E(),O);J(hE(),O);J(mE(),O);J(EE(),O);J(AE(),O);J(TE(),O);J(vE(),O);J(fl(),O);J(OE(),O);var uw=wE();Object.defineProperty(O,"createTraceState",{enumerable:!0,get:function(){return uw.createTraceState}});J(xE(),O);J(BE(),O);J(FE(),O);var Pl=Ks();Object.defineProperty(O,"isSpanContextValid",{enumerable:!0,get:function(){return Pl.isSpanContextValid}});Object.defineProperty(O,"isValidTraceId",{enumerable:!0,get:function(){return Pl.isValidTraceId}});Object.defineProperty(O,"isValidSpanId",{enumerable:!0,get:function(){return Pl.isValidSpanId}});var Cl=ks();Object.defineProperty(O,"INVALID_SPANID",{enumerable:!0,get:function(){return Cl.INVALID_SPANID}});Object.defineProperty(O,"INVALID_TRACEID",{enumerable:!0,get:function(){return Cl.INVALID_TRACEID}});Object.defineProperty(O,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Cl.INVALID_SPAN_CONTEXT}});J(ni(),O);J(jE(),O);var cw=dl();O.context=cw.ContextAPI.getInstance();var lw=kE();O.trace=lw.TraceAPI.getInstance();var pw=XE();O.propagation=pw.PropagationAPI.getInstance();var dw=en();O.diag=dw.DiagAPI.instance();O.default={trace:O.trace,context:O.context,propagation:O.propagation,diag:O.diag}});var no=c(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.isTracingSuppressed=Gt.unsuppressTracing=Gt.suppressTracing=void 0;var fw=w(),Il=(0,fw.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function _w(e){return e.setValue(Il,!0)}Gt.suppressTracing=_w;function hw(e){return e.deleteValue(Il)}Gt.unsuppressTracing=hw;function gw(e){return e.getValue(Il)===!0}Gt.isTracingSuppressed=gw});var zE=c(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.validateValue=un.validateKey=void 0;var Nl="[_0-9a-z-*/]",mw=`[a-z]${Nl}{0,255}`,Ew=`[a-z0-9]${Nl}{0,240}@[a-z]${Nl}{0,13}`,Sw=new RegExp(`^(?:${mw}|${Ew})$`),Aw=/^[ -~]{0,255}[!-~]$/,yw=/,|=/;function Tw(e){return Sw.test(e)}un.validateKey=Tw;function vw(e){return Aw.test(e)&&!yw.test(e)}un.validateValue=vw});var Ml=c(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.TraceState=void 0;var QE=zE(),ZE=32,bw=512,JE=",",eS="=",io=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+eS+this.get(r)),t),[]).join(JE)}_parse(t){t.length>bw||(this._internalState=t.split(JE).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(eS);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,QE.validateKey)(o)&&(0,QE.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>ZE&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,ZE))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new io;return t._internalState=new Map(this._internalState),t}};so.TraceState=io});var wl=c(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.W3CTraceContextPropagator=Ee.parseTraceParent=Ee.TRACE_STATE_HEADER=Ee.TRACE_PARENT_HEADER=void 0;var oo=w(),Ow=no(),Rw=Ml();Ee.TRACE_PARENT_HEADER="traceparent";Ee.TRACE_STATE_HEADER="tracestate";var Pw="00",Cw="(?!ff)[\\da-f]{2}",Iw="(?![0]{32})[\\da-f]{32}",Nw="(?![0]{16})[\\da-f]{16}",Mw="[\\da-f]{2}",ww=new RegExp(`^\\s?(${Cw})-(${Iw})-(${Nw})-(${Mw})(-.*)?\\s?$`);function tS(e){let t=ww.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ee.parseTraceParent=tS;var rS=class{inject(t,r,n){let i=oo.trace.getSpanContext(t);if(!i||(0,Ow.isTracingSuppressed)(t)||!(0,oo.isSpanContextValid)(i))return;let s=`${Pw}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||oo.TraceFlags.NONE).toString(16)}`;n.set(r,Ee.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Ee.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ee.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=tS(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Ee.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new Rw.TraceState(typeof u=="string"?u:void 0)}return oo.trace.setSpanContext(t,o)}fields(){return[Ee.TRACE_PARENT_HEADER,Ee.TRACE_STATE_HEADER]}};Ee.W3CTraceContextPropagator=rS});var Ll=c(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.BAGGAGE_MAX_TOTAL_LENGTH=Se.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Se.BAGGAGE_MAX_NAME_VALUE_PAIRS=Se.BAGGAGE_HEADER=Se.BAGGAGE_ITEMS_SEPARATOR=Se.BAGGAGE_PROPERTIES_SEPARATOR=Se.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Se.BAGGAGE_KEY_PAIR_SEPARATOR="=";Se.BAGGAGE_PROPERTIES_SEPARATOR=";";Se.BAGGAGE_ITEMS_SEPARATOR=",";Se.BAGGAGE_HEADER="baggage";Se.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Se.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Se.BAGGAGE_MAX_TOTAL_LENGTH=8192});var xl=c(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.parseKeyPairsIntoRecord=at.parsePairKeyValue=at.getKeyPairs=at.serializeKeyPairs=void 0;var Lw=w(),pr=Ll();function xw(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?pr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>pr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}at.serializeKeyPairs=xw;function Dw(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=pr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}at.getKeyPairs=Dw;function nS(e){let t=e.split(pr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(pr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return t.length>0&&(o=(0,Lw.baggageEntryMetadataFromString)(t.join(pr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}at.parsePairKeyValue=nS;function Bw(e){return typeof e!="string"||e.length===0?{}:e.split(pr.BAGGAGE_ITEMS_SEPARATOR).map(t=>nS(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}at.parseKeyPairsIntoRecord=Bw});var sS=c(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.W3CBaggagePropagator=void 0;var Dl=w(),qw=no(),dr=Ll(),Bl=xl(),iS=class{inject(t,r,n){let i=Dl.propagation.getBaggage(t);if(!i||(0,qw.isTracingSuppressed)(t))return;let s=(0,Bl.getKeyPairs)(i).filter(a=>a.length<=dr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,dr.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Bl.serializeKeyPairs)(s);o.length>0&&n.set(r,dr.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,dr.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(dr.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(dr.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,Bl.parsePairKeyValue)(u);if(l){let p={value:l.value};l.metadata&&(p.metadata=l.metadata),o[l.key]=p}}),Object.entries(o).length===0)?t:Dl.propagation.setBaggage(t,Dl.propagation.createBaggage(o))}fields(){return[dr.BAGGAGE_HEADER]}};ao.W3CBaggagePropagator=iS});var lS=c(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.isAttributeValue=Ht.isAttributeKey=Ht.sanitizeAttributes=void 0;var oS=w();function Fw(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!aS(r)){oS.diag.warn(`Invalid attribute key: ${r}`);continue}if(!uS(n)){oS.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Ht.sanitizeAttributes=Fw;function aS(e){return typeof e=="string"&&e.length>0}Ht.isAttributeKey=aS;function uS(e){return e==null?!0:Array.isArray(e)?Uw(e):cS(e)}Ht.isAttributeValue=uS;function Uw(e){let t;for(let r of e)if(r!=null){if(!t){if(cS(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function cS(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var ql=c(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.loggingErrorHandler=void 0;var jw=w();function Gw(){return e=>{jw.diag.error(Hw(e))}}uo.loggingErrorHandler=Gw;function Hw(e){return typeof e=="string"?e:JSON.stringify(Vw(e))}function Vw(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var Fl=c(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.globalErrorHandler=cn.setGlobalErrorHandler=void 0;var kw=ql(),pS=(0,kw.loggingErrorHandler)();function $w(e){pS=e}cn.setGlobalErrorHandler=$w;function Yw(e){try{pS(e)}catch(t){}}cn.globalErrorHandler=Yw});var Ul=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.TracesSamplerValues=void 0;var Kw;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(Kw=ci.TracesSamplerValues||(ci.TracesSamplerValues={}))});var jl=c(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.parseEnvironment=Oe.DEFAULT_ENVIRONMENT=Oe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Oe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Vt=w(),Ww=Ul(),Xw=",",zw=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Qw(e){return zw.indexOf(e)>-1}var Zw=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Jw(e){return Zw.indexOf(e)>-1}Oe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;Oe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Oe.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Vt.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Oe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Oe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Oe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Oe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:Ww.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function eL(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!="undefined"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function tL(e,t,r,n=Xw){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var rL={ALL:Vt.DiagLogLevel.ALL,VERBOSE:Vt.DiagLogLevel.VERBOSE,DEBUG:Vt.DiagLogLevel.DEBUG,INFO:Vt.DiagLogLevel.INFO,WARN:Vt.DiagLogLevel.WARN,ERROR:Vt.DiagLogLevel.ERROR,NONE:Vt.DiagLogLevel.NONE};function nL(e,t,r){let n=r[e];if(typeof n=="string"){let i=rL[n.toUpperCase()];i!=null&&(t[e]=i)}}function iL(e){let t={};for(let r in Oe.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":nL(n,t,e);break;default:if(Qw(n))eL(n,t,e);else if(Jw(n))tL(n,t,e);else{let i=e[n];typeof i!="undefined"&&i!==null&&(t[n]=String(i))}}}return t}Oe.parseEnvironment=iL});var fS=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.getEnv=void 0;var sL=C("os"),dS=jl();function oL(){let e=(0,dS.parseEnvironment)(process.env);return Object.assign({HOSTNAME:sL.hostname()},dS.DEFAULT_ENVIRONMENT,e)}co.getEnv=oL});var _S=c(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo._globalThis=void 0;lo._globalThis=typeof globalThis=="object"?globalThis:global});var hS=c(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.hexToBase64=void 0;function aL(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),s=parseInt(i,16);r+=String.fromCharCode(s)}return Buffer.from(r,"ascii").toString("base64")}po.hexToBase64=aL});var SS=c(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.RandomIdGenerator=void 0;var uL=8,gS=16,mS=class{constructor(){this.generateTraceId=ES(gS),this.generateSpanId=ES(uL)}};_o.RandomIdGenerator=mS;var fo=Buffer.allocUnsafe(gS);function ES(e){return function(){for(let r=0;r<e/4;r++)fo.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(fo[r]>0);r++)r===e-1&&(fo[e-1]=1);return fo.toString("hex",0,e)}}});var AS=c(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.otperformance=void 0;var cL=C("perf_hooks");ho.otperformance=cL.performance});var mo=c(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.VERSION=void 0;go.VERSION="1.3.1"});var yS=c(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.MessageTypeValues=k.RpcGrpcStatusCodeValues=k.MessagingOperationValues=k.MessagingDestinationKindValues=k.HttpFlavorValues=k.NetHostConnectionSubtypeValues=k.NetHostConnectionTypeValues=k.NetTransportValues=k.FaasInvokedProviderValues=k.FaasDocumentOperationValues=k.FaasTriggerValues=k.DbCassandraConsistencyLevelValues=k.DbSystemValues=k.SemanticAttributes=void 0;k.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};k.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};k.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};k.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};k.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};k.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};k.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};k.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};k.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};k.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};k.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};k.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};k.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};k.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var TS=c(fr=>{"use strict";var lL=fr&&fr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pL=fr&&fr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lL(t,e,r)};Object.defineProperty(fr,"__esModule",{value:!0});pL(yS(),fr)});var vS=c(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.TelemetrySdkLanguageValues=Ae.OsTypeValues=Ae.HostArchValues=Ae.AwsEcsLaunchtypeValues=Ae.CloudPlatformValues=Ae.CloudProviderValues=Ae.SemanticResourceAttributes=void 0;Ae.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ae.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ae.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ae.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ae.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ae.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ae.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var bS=c(_r=>{"use strict";var dL=_r&&_r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fL=_r&&_r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dL(t,e,r)};Object.defineProperty(_r,"__esModule",{value:!0});fL(vS(),_r)});var ut=c(kt=>{"use strict";var _L=kt&&kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OS=kt&&kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_L(t,e,r)};Object.defineProperty(kt,"__esModule",{value:!0});OS(TS(),kt);OS(bS(),kt)});var RS=c(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.SDK_INFO=void 0;var hL=mo(),li=ut();Eo.SDK_INFO={[li.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[li.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[li.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:li.TelemetrySdkLanguageValues.NODEJS,[li.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:hL.VERSION}});var PS=c(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.unrefTimer=void 0;function gL(e){e.unref()}So.unrefTimer=gL});var CS=c(Be=>{"use strict";var mL=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hr=Be&&Be.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mL(t,e,r)};Object.defineProperty(Be,"__esModule",{value:!0});hr(fS(),Be);hr(_S(),Be);hr(hS(),Be);hr(SS(),Be);hr(AS(),Be);hr(RS(),Be);hr(PS(),Be)});var Gl=c(gr=>{"use strict";var EL=gr&&gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SL=gr&&gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EL(t,e,r)};Object.defineProperty(gr,"__esModule",{value:!0});SL(CS(),gr)});var MS=c(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.isTimeInput=ie.isTimeInputHrTime=ie.hrTimeToMicroseconds=ie.hrTimeToMilliseconds=ie.hrTimeToNanoseconds=ie.hrTimeToTimeStamp=ie.hrTimeDuration=ie.timeInputToHrTime=ie.hrTime=void 0;var Hl=Gl(),Vl=9,pi=Math.pow(10,Vl);function Ao(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(Vl))*pi;return[r,n]}function IS(){let e=Hl.otperformance.timeOrigin;if(typeof e!="number"){let t=Hl.otperformance;e=t.timing&&t.timing.fetchStart}return e}function NS(e){let t=Ao(IS()),r=Ao(typeof e=="number"?e:Hl.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>pi&&(i-=pi,n+=1),[n,i]}ie.hrTime=NS;function AL(e){if(kl(e))return e;if(typeof e=="number")return e<IS()?NS(e):Ao(e);if(e instanceof Date)return Ao(e.getTime());throw TypeError("Invalid input type")}ie.timeInputToHrTime=AL;function yL(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=pi),[r,n]}ie.hrTimeDuration=yL;function TL(e){let t=Vl,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}ie.hrTimeToTimeStamp=TL;function vL(e){return e[0]*pi+e[1]}ie.hrTimeToNanoseconds=vL;function bL(e){return Math.round(e[0]*1e3+e[1]/1e6)}ie.hrTimeToMilliseconds=bL;function OL(e){return Math.round(e[0]*1e6+e[1]/1e3)}ie.hrTimeToMicroseconds=OL;function kl(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}ie.isTimeInputHrTime=kl;function RL(e){return kl(e)||typeof e=="number"||e instanceof Date}ie.isTimeInput=RL});var LS=c(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0})});var xS=c(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.ExportResultCode=void 0;var PL;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(PL=di.ExportResultCode||(di.ExportResultCode={}))});var qS=c(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.CompositePropagator=void 0;var DS=w(),BS=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){DS.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){DS.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};yo.CompositePropagator=BS});var US=c(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0})});var jS=c($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.getRPCMetadata=$e.deleteRPCMetadata=$e.setRPCMetadata=$e.RPCType=void 0;var CL=w(),$l=(0,CL.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),IL;(function(e){e.HTTP="http"})(IL=$e.RPCType||($e.RPCType={}));function NL(e,t){return e.setValue($l,t)}$e.setRPCMetadata=NL;function ML(e){return e.deleteValue($l)}$e.deleteRPCMetadata=ML;function wL(e){return e.getValue($l)}$e.getRPCMetadata=wL});var Yl=c(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.AlwaysOffSampler=void 0;var LL=w(),GS=class{shouldSample(){return{decision:LL.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};To.AlwaysOffSampler=GS});var Kl=c(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.AlwaysOnSampler=void 0;var xL=w(),HS=class{shouldSample(){return{decision:xL.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};vo.AlwaysOnSampler=HS});var $S=c(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.ParentBasedSampler=void 0;var bo=w(),DL=Fl(),VS=Yl(),Wl=Kl(),kS=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,DL.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Wl.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Wl.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new VS.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Wl.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new VS.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=bo.trace.getSpanContext(t);return!a||!(0,bo.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&bo.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&bo.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Oo.ParentBasedSampler=kS});var KS=c(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.TraceIdRatioBasedSampler=void 0;var Xl=w(),YS=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,Xl.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?Xl.SamplingDecision.RECORD_AND_SAMPLED:Xl.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Ro.TraceIdRatioBasedSampler=YS});var ZS=c(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.isPlainObject=void 0;var BL="[object Object]",qL="[object Null]",FL="[object Undefined]",UL=Function.prototype,WS=UL.toString,jL=WS.call(Object),GL=HL(Object.getPrototypeOf,Object),XS=Object.prototype,zS=XS.hasOwnProperty,mr=Symbol?Symbol.toStringTag:void 0,QS=XS.toString;function HL(e,t){return function(r){return e(t(r))}}function VL(e){if(!kL(e)||$L(e)!==BL)return!1;let t=GL(e);if(t===null)return!0;let r=zS.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&WS.call(r)===jL}Po.isPlainObject=VL;function kL(e){return e!=null&&typeof e=="object"}function $L(e){return e==null?e===void 0?FL:qL:mr&&mr in Object(e)?YL(e):KL(e)}function YL(e){let t=zS.call(e,mr),r=e[mr],n=!1;try{e[mr]=void 0,n=!0}catch(s){}let i=QS.call(e);return n&&(t?e[mr]=r:delete e[mr]),i}function KL(e){return QS.call(e)}});var nA=c(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.merge=void 0;var JS=ZS(),WL=20;function XL(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=eA(t,e.shift(),0,r);return t}No.merge=XL;function zl(e){return Co(e)?e.slice():e}function eA(e,t,r=0,n){let i;if(!(r>WL)){if(r++,Io(e)||Io(t)||rA(t))i=zl(t);else if(Co(e)){if(i=e.slice(),Co(t))for(let s=0,o=t.length;s<o;s++)i.push(zl(t[s]));else if(fi(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=zl(t[u])}}}else if(fi(e))if(fi(t)){if(!zL(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],l=t[u];if(Io(l))typeof l=="undefined"?delete i[u]:i[u]=l;else{let p=i[u],f=l;if(tA(e,u,n)||tA(t,u,n))delete i[u];else{if(fi(p)&&fi(f)){let d=n.get(p)||[],m=n.get(f)||[];d.push({obj:e,key:u}),m.push({obj:t,key:u}),n.set(p,d),n.set(f,m)}i[u]=eA(i[u],l,r,n)}}}}else i=t;return i}}function tA(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function Co(e){return Array.isArray(e)}function rA(e){return typeof e=="function"}function fi(e){return!Io(e)&&!Co(e)&&!rA(e)&&typeof e=="object"}function Io(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function zL(e,t){return!(!(0,JS.isPlainObject)(e)||!(0,JS.isPlainObject)(t))}});var sA=c(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.isUrlIgnored=ln.urlMatches=void 0;function iA(e,t){return typeof t=="string"?e===t:!!e.match(t)}ln.urlMatches=iA;function QL(e,t){if(!t)return!1;for(let r of t)if(iA(e,r))return!0;return!1}ln.isUrlIgnored=QL});var oA=c(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.isWrapped=void 0;function ZL(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}Mo.isWrapped=ZL});var uA=c(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.Deferred=void 0;var aA=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};wo.Deferred=aA});var lA=c(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.BindOnceFuture=void 0;var JL=uA(),cA=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new JL.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Lo.BindOnceFuture=cA});var W=c(j=>{"use strict";var ex=j&&j.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),K=j&&j.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ex(t,e,r)};Object.defineProperty(j,"__esModule",{value:!0});j.baggageUtils=void 0;K(sS(),j);K(lS(),j);K(Fl(),j);K(ql(),j);K(MS(),j);K(LS(),j);K(xS(),j);K(mo(),j);j.baggageUtils=xl();K(Gl(),j);K(qS(),j);K(wl(),j);K(US(),j);K(jS(),j);K(Yl(),j);K(Kl(),j);K($S(),j);K(KS(),j);K(no(),j);K(Ml(),j);K(jl(),j);K(nA(),j);K(Ul(),j);K(sA(),j);K(oA(),j);K(lA(),j);K(mo(),j)});var pA=c(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.ExceptionEventName=void 0;xo.ExceptionEventName="exception"});var Ql=c(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.Span=void 0;var ct=w(),Ye=W(),Er=ut(),tx=pA(),dA=class{constructor(t,r,n,i,s,o,a=[],u=(0,Ye.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:ct.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a,this.startTime=(0,Ye.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(ct.diag.warn(`Invalid attribute key: ${t}`),this):(0,Ye.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(ct.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return ct.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(ct.diag.warn("Dropping extra events."),this.events.shift()),(0,Ye.isTimeInput)(r)&&(typeof n=="undefined"&&(n=r),r=void 0),typeof n=="undefined"&&(n=(0,Ye.hrTime)());let i=(0,Ye.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,Ye.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,Ye.hrTime)()){if(this._isSpanEnded()){ct.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,Ye.timeInputToHrTime)(t),this._duration=(0,Ye.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&ct.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,Ye.hrTime)()){let n={};typeof t=="string"?n[Er.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Er.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Er.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[Er.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Er.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[Er.SemanticAttributes.EXCEPTION_TYPE]||n[Er.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(tx.ExceptionEventName,n,r):ct.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&ct.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(ct.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Do.Span=dA});var Zl=c(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.buildSamplerFromEnv=dn.DEFAULT_CONFIG=void 0;var Bo=w(),Q=W(),rx=(0,Q.getEnv)(),nx=Q.TracesSamplerValues.AlwaysOn,pn=1;dn.DEFAULT_CONFIG={sampler:fA(rx),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,Q.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Q.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,Q.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Q.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,Q.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,Q.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function fA(e=(0,Q.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case Q.TracesSamplerValues.AlwaysOn:return new Q.AlwaysOnSampler;case Q.TracesSamplerValues.AlwaysOff:return new Q.AlwaysOffSampler;case Q.TracesSamplerValues.ParentBasedAlwaysOn:return new Q.ParentBasedSampler({root:new Q.AlwaysOnSampler});case Q.TracesSamplerValues.ParentBasedAlwaysOff:return new Q.ParentBasedSampler({root:new Q.AlwaysOffSampler});case Q.TracesSamplerValues.TraceIdRatio:return new Q.TraceIdRatioBasedSampler(_A(e));case Q.TracesSamplerValues.ParentBasedTraceIdRatio:return new Q.ParentBasedSampler({root:new Q.TraceIdRatioBasedSampler(_A(e))});default:return Bo.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${nx}".`),new Q.AlwaysOnSampler}}dn.buildSamplerFromEnv=fA;function _A(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return Bo.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${pn}.`),pn;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Bo.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${pn}.`),pn):t<0||t>1?(Bo.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${pn}.`),pn):t}});var Jl=c(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.reconfigureLimits=fn.mergeConfig=void 0;var qo=Zl();function ix(e){let t={sampler:(0,qo.buildSamplerFromEnv)()},r=Object.assign({},qo.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},qo.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},qo.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}fn.mergeConfig=ix;function sx(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}fn.reconfigureLimits=sx});var gA=c(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.Tracer=void 0;var fe=w(),_i=W(),ox=Ql(),ax=Jl(),hA=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,ax.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new _i.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=fe.context.active()){var i,s;if((0,_i.isTracingSuppressed)(n))return fe.diag.debug("Instrumentation suppressed, returning Noop Span"),fe.trace.wrapSpanContext(fe.INVALID_SPAN_CONTEXT);r.root&&(n=fe.trace.deleteSpan(n));let o=fe.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,l,p;!o||!fe.trace.isSpanContextValid(o)?u=this._idGenerator.generateTraceId():(u=o.traceId,l=o.traceState,p=o.spanId);let f=(i=r.kind)!==null&&i!==void 0?i:fe.SpanKind.INTERNAL,d=((s=r.links)!==null&&s!==void 0?s:[]).map(V=>({context:V.context,attributes:(0,_i.sanitizeAttributes)(V.attributes)})),m=(0,_i.sanitizeAttributes)(r.attributes),g=this._sampler.shouldSample(n,u,t,f,m,d),S=g.decision===fe.SamplingDecision.RECORD_AND_SAMPLED?fe.TraceFlags.SAMPLED:fe.TraceFlags.NONE,y={traceId:u,spanId:a,traceFlags:S,traceState:l};if(g.decision===fe.SamplingDecision.NOT_RECORD)return fe.diag.debug("Recording is off, propagating context in a non-recording span"),fe.trace.wrapSpanContext(y);let b=new ox.Span(this,n,t,y,f,p,d,r.startTime),v=(0,_i.sanitizeAttributes)(Object.assign(m,g.attributes));return b.setAttributes(v),b}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o!=null?o:fe.context.active(),l=this.startSpan(t,s,u),p=fe.trace.setSpan(u,l);return fe.context.with(p,a,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};Fo.Tracer=hA});var mA=c(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.defaultServiceName=void 0;function ux(){return`unknown_service:${process.argv0}`}Uo.defaultServiceName=ux});var SA=c(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.detectResources=void 0;var EA=Sr(),ep=w(),cx=C("util"),lx=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return ep.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return ep.diag.debug(`${n.constructor.name} failed: ${i.message}`),EA.Resource.empty()}}));return px(r),r.reduce((n,i)=>n.merge(i),EA.Resource.empty())};jo.detectResources=lx;var px=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=cx.inspect(t.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});ep.diag.verbose(r)}})}});var vA=c(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.hostDetector=void 0;var AA=ut(),dx=Sr(),yA=C("os"),TA=class{async detect(t){let r={[AA.SemanticResourceAttributes.HOST_NAME]:(0,yA.hostname)(),[AA.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,yA.arch)())};return new dx.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Go.hostDetector=new TA});var PA=c(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.osDetector=void 0;var bA=ut(),fx=Sr(),OA=C("os"),RA=class{async detect(t){let r={[bA.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,OA.platform)()),[bA.SemanticResourceAttributes.OS_VERSION]:(0,OA.release)()};return new fx.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Ho.osDetector=new RA});var CA=c(lt=>{"use strict";var _x=lt&&lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vo=lt&&lt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_x(t,e,r)};Object.defineProperty(lt,"__esModule",{value:!0});Vo(mA(),lt);Vo(SA(),lt);Vo(vA(),lt);Vo(PA(),lt)});var tp=c(Ar=>{"use strict";var hx=Ar&&Ar.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gx=Ar&&Ar.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hx(t,e,r)};Object.defineProperty(Ar,"__esModule",{value:!0});gx(CA(),Ar)});var Sr=c(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.Resource=void 0;var yr=ut(),rp=W(),mx=tp(),$t=class{constructor(t){this.attributes=t}static empty(){return $t.EMPTY}static default(){return new $t({[yr.SemanticResourceAttributes.SERVICE_NAME]:(0,mx.defaultServiceName)(),[yr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:rp.SDK_INFO[yr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[yr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:rp.SDK_INFO[yr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[yr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:rp.SDK_INFO[yr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new $t(r)}};ko.Resource=$t;$t.EMPTY=new $t({})});var NA=c(IA=>{"use strict";Object.defineProperty(IA,"__esModule",{value:!0})});var wA=c(MA=>{"use strict";Object.defineProperty(MA,"__esModule",{value:!0})});var xA=c(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.browserDetector=void 0;var Ex=w(),$o=ut(),np=hi(),LA=class{async detect(t){if(!(typeof navigator!="undefined"))return np.Resource.empty();let n={[$o.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[$o.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[$o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[$o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Ex.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),np.Resource.empty()):new np.Resource(Object.assign({},t))}};Yo.browserDetector=new LA});var BA=c(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.envDetector=void 0;var Sx=w(),Ax=W(),yx=ut(),Tx=Sr(),DA=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,Ax.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){Sx.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[yx.SemanticResourceAttributes.SERVICE_NAME]=s),new Tx.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Ko.envDetector=new DA});var FA=c(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.processDetector=void 0;var vx=w(),je=ut(),ip=Sr(),qA=class{async detect(t){if(typeof process!="object")return ip.Resource.empty();let r={[je.SemanticResourceAttributes.PROCESS_PID]:process.pid,[je.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[je.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[je.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[je.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[je.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[je.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[je.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[je.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[je.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[je.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[je.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(vx.diag.debug("ProcessDetector failed: Unable to find required process resources. "),ip.Resource.empty()):new ip.Resource(Object.assign({},t))}};Wo.processDetector=new qA});var UA=c(Rt=>{"use strict";var bx=Rt&&Rt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sp=Rt&&Rt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bx(t,e,r)};Object.defineProperty(Rt,"__esModule",{value:!0});sp(xA(),Rt);sp(BA(),Rt);sp(FA(),Rt)});var hi=c(Ke=>{"use strict";var Ox=Ke&&Ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gi=Ke&&Ke.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ox(t,e,r)};Object.defineProperty(Ke,"__esModule",{value:!0});gi(Sr(),Ke);gi(tp(),Ke);gi(NA(),Ke);gi(wA(),Ke);gi(UA(),Ke)});var GA=c(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.MultiSpanProcessor=void 0;var Rx=W(),jA=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,Rx.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Xo.MultiSpanProcessor=jA});var op=c(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.NoopSpanProcessor=void 0;var HA=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};zo.NoopSpanProcessor=HA});var kA=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.BatchSpanProcessorBase=void 0;var ap=w(),_n=W(),VA=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,_n.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new _n.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&ap.TraceFlags.SAMPLED)!=0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);ap.context.with((0,_n.suppressTracing)(ap.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var s;clearTimeout(n),i.code===_n.ExportResultCode.SUCCESS?t():r((s=i.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,_n.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,_n.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};Qo.BatchSpanProcessorBase=VA});var YA=c(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.BatchSpanProcessor=void 0;var Px=kA(),$A=class extends Px.BatchSpanProcessorBase{onShutdown(){}};Zo.BatchSpanProcessor=$A});var KA=c(Tr=>{"use strict";var Cx=Tr&&Tr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ix=Tr&&Tr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Cx(t,e,r)};Object.defineProperty(Tr,"__esModule",{value:!0});Ix(YA(),Tr)});var up=c(vr=>{"use strict";var Nx=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mx=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nx(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});Mx(KA(),vr)});var XA=c(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.BasicTracerProvider=Or.ForceFlushState=void 0;var hn=w(),gn=W(),WA=hi(),wx=Jo(),Lx=Zl(),xx=GA(),Dx=op(),Bx=up(),qx=Jl(),mn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(mn=Or.ForceFlushState||(Or.ForceFlushState={}));var br=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,gn.merge)({},Lx.DEFAULT_CONFIG,(0,qx.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:WA.Resource.empty(),this.resource=WA.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new Bx.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new Dx.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new wx.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>hn.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new xx.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){hn.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&hn.context.setGlobalContextManager(t.contextManager),t.propagator&&hn.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=mn.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==mn.timeout&&(s=mn.resolved,i(s))}).catch(a=>{clearTimeout(o),s=mn.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==mn.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=br._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=br._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,gn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||hn.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new gn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,gn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||hn.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};Or.BasicTracerProvider=br;br._registeredPropagators=new Map([["tracecontext",()=>new gn.W3CTraceContextPropagator],["baggage",()=>new gn.W3CBaggagePropagator]]);br._registeredExporters=new Map});var QA=c(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.ConsoleSpanExporter=void 0;var cp=W(),zA=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,cp.hrTimeToMicroseconds)(t.startTime),duration:(0,cp.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:cp.ExportResultCode.SUCCESS})}};ea.ConsoleSpanExporter=zA});var ey=c(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.InMemorySpanExporter=void 0;var ZA=W(),JA=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:ZA.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:ZA.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};ta.InMemorySpanExporter=JA});var ry=c(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0})});var iy=c(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.SimpleSpanProcessor=void 0;var lp=w(),ra=W(),ny=class{constructor(t){this._exporter=t,this._shutdownOnce=new ra.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&lp.TraceFlags.SAMPLED)!=0&&lp.context.with((0,ra.suppressTracing)(lp.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==ra.ExportResultCode.SUCCESS&&(0,ra.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};na.SimpleSpanProcessor=ny});var oy=c(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0})});var uy=c(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0})});var ly=c(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0})});var dy=c(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0})});var Jo=c(de=>{"use strict";var Fx=de&&de.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qe=de&&de.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fx(t,e,r)};Object.defineProperty(de,"__esModule",{value:!0});qe(gA(),de);qe(XA(),de);qe(up(),de);qe(QA(),de);qe(ey(),de);qe(ry(),de);qe(iy(),de);qe(oy(),de);qe(op(),de);qe(Ql(),de);qe(uy(),de);qe(ly(),de);qe(dy(),de)});var mi=c(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.invalidTimeout=Ge.configureExporterTimeout=Ge.appendRootPathToUrlIfNeeded=Ge.appendResourcePathToUrl=Ge.parseHeaders=void 0;var fy=w(),_y=W(),hy=1e4;function Ux(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n!="undefined"?t[r]=String(n):fy.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}Ge.parseHeaders=Ux;function jx(e,t){return e.endsWith("/")||(e=e+"/"),e+t}Ge.appendResourcePathToUrl=jx;function Gx(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}Ge.appendRootPathToUrlIfNeeded=Gx;function Hx(e){return typeof e=="number"?e<=0?pp(e,hy):e:Vx()}Ge.configureExporterTimeout=Hx;function Vx(){var e;let t=Number((e=(0,_y.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,_y.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?pp(t,hy):t}function pp(e,t){return fy.diag.warn("Timeout must be greater than 0",e),t}Ge.invalidTimeout=pp});var sa=c(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.OTLPExporterBase=void 0;var gy=w(),Ei=W(),kx=mi(),my=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Ei.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:Infinity,this.timeoutMillis=(0,kx.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:Ei.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Ei.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:Ei.ExportResultCode.SUCCESS})}).catch(n=>{r({code:Ei.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{gy.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return gy.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};ia.OTLPExporterBase=my});var dp=c(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.CompressionAlgorithm=void 0;var $x;(function(e){e.NONE="none",e.GZIP="gzip"})($x=Si.CompressionAlgorithm||(Si.CompressionAlgorithm={}))});var aa=c(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.OTLPExporterError=void 0;var Ey=class extends Error{constructor(t,r,n){super(t);this.name="OTLPExporterError",this.data=n,this.code=r}};oa.OTLPExporterError=Ey});var gp=c(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.configureCompression=Yt.createHttpAgent=Yt.sendWithHttp=void 0;var Sy=C("url"),Ay=C("http"),yy=C("https"),Yx=C("zlib"),Kx=C("stream"),fp=w(),ua=dp(),Ty=W(),_p=aa(),hp;function Wx(e,t,r,n,i){let s=e.timeoutMillis,o=new Sy.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),l=setTimeout(()=>{a=!0,u>=14?d.destroy():d.abort()},s),p={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},d=(o.protocol==="http:"?Ay.request:yy.request)(p,m=>{let g="";m.on("data",S=>g+=S),m.on("aborted",()=>{if(a){let S=new _p.OTLPExporterError("Request Timeout");i(S)}}),m.on("end",()=>{if(!a){if(m.statusCode&&m.statusCode<299)fp.diag.debug(`statusCode: ${m.statusCode}`,g),n();else{let S=new _p.OTLPExporterError(m.statusMessage,m.statusCode,g);i(S)}clearTimeout(l)}})});switch(d.on("error",m=>{if(a){let g=new _p.OTLPExporterError("Request Timeout",m.code);i(g)}else clearTimeout(l),i(m)}),e.compression){case ua.CompressionAlgorithm.GZIP:{hp||(hp=Yx.createGzip()),d.setHeader("Content-Encoding","gzip"),Xx(t).on("error",i).pipe(hp).on("error",i).pipe(d);break}default:d.end(t);break}}Yt.sendWithHttp=Wx;function Xx(e){let t=new Kx.Readable;return t.push(e),t.push(null),t}function zx(e){if(e.httpAgentOptions&&e.keepAlive===!1){fp.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new Sy.URL(e.url).protocol==="http:"?Ay.Agent:yy.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){fp.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}Yt.createHttpAgent=zx;function Qx(e){return e||(((0,Ty.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,Ty.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===ua.CompressionAlgorithm.GZIP?ua.CompressionAlgorithm.GZIP:ua.CompressionAlgorithm.NONE)}Yt.configureCompression=Qx});var Ry=c(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.OTLPExporterNodeBase=void 0;var Zx=sa(),Jx=mi(),mp=gp(),vy=w(),by=W(),Oy=class extends Zx.OTLPExporterBase{constructor(t={}){super(t);this.DEFAULT_HEADERS={},t.metadata&&vy.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,Jx.parseHeaders)(t.headers),by.baggageUtils.parseKeyPairsIntoRecord((0,by.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,mp.createHttpAgent)(t),this.compression=(0,mp.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){vy.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,mp.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};ca.OTLPExporterNodeBase=Oy});var Py=c(Pt=>{"use strict";var eD=Pt&&Pt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ep=Pt&&Pt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eD(t,e,r)};Object.defineProperty(Pt,"__esModule",{value:!0});Ep(Ry(),Pt);Ep(gp(),Pt);Ep(dp(),Pt)});var Iy=c(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.sendWithXhr=En.sendWithBeacon=void 0;var Cy=w(),Sp=aa();function tD(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))Cy.diag.debug("sendBeacon - can send",e),n();else{let s=new Sp.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}En.sendWithBeacon=tD;function rD(e,t,r,n,i,s){let o,a=setTimeout(()=>{o=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([p,f])=>{u.setRequestHeader(p,f)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),Cy.diag.debug("xhr success",e),i();else if(o){let p=new Sp.OTLPExporterError("Request Timeout",u.status);s(p)}else{let p=new Sp.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),s(p)}}}En.sendWithXhr=rD});var Ly=c(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.OTLPExporterBrowserBase=void 0;var nD=sa(),iD=mi(),Ny=Iy(),sD=w(),My=W(),wy=class extends nD.OTLPExporterBase{constructor(t={}){super(t);this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,iD.parseHeaders)(t.headers),My.baggageUtils.parseKeyPairsIntoRecord((0,My.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){sD.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,l)=>{this._useXHR?(0,Ny.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,l):(0,Ny.sendWithBeacon)(s,this.url,{type:"application/json"},u,l)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};la.OTLPExporterBrowserBase=wy});var xy=c(Rr=>{"use strict";var oD=Rr&&Rr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aD=Rr&&Rr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oD(t,e,r)};Object.defineProperty(Rr,"__esModule",{value:!0});aD(Ly(),Rr)});var Dy=c(Ct=>{"use strict";var uD=Ct&&Ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cD=Ct&&Ct.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uD(t,e,r)};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.OTLPExporterBrowserBase=void 0;cD(Py(),Ct);var lD=xy();Object.defineProperty(Ct,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return lD.OTLPExporterBrowserBase}})});var Ap=c(pt=>{"use strict";var pD=pt&&pt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pa=pt&&pt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pD(t,e,r)};Object.defineProperty(pt,"__esModule",{value:!0});pa(sa(),pt);pa(Dy(),pt);pa(aa(),pt);pa(mi(),pt)});var qy=c(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0})});var Uy=c(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0})});var Gy=c(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0})});var Hy=c(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.ESpanKind=void 0;var dD;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(dD=Ai.ESpanKind||(Ai.ESpanKind={}))});var da=c(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.bufToHex=He.hexToBuf=He.toAnyValue=He.toKeyValue=He.toAttributes=void 0;function fD(e){return Object.keys(e).map(t=>yp(t,e[t]))}He.toAttributes=fD;function yp(e,t){return{key:e,value:Tp(t)}}He.toKeyValue=yp;function Tp(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Tp)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>yp(r,n))}}:{}}He.toAnyValue=Tp;function _D(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}He.hexToBuf=_D;function hD(e){return("0"+e.toString(16)).slice(-2)}function gD(e){if(!(e==null||e.length===0))return Array.from(e).map(hD).join("")}He.bufToHex=gD});var $y=c(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.toOtlpSpanEvent=Kt.toOtlpLink=Kt.sdkSpanToOtlpSpan=void 0;var vp=W(),bp=da(),yi=W();function mD(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?yi.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:yi.hexToBase64(r.traceId),spanId:t?r.spanId:yi.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,vp.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,vp.hrTimeToNanoseconds)(e.endTime),attributes:(0,bp.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(ky),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(s=>Vy(s,t)),droppedLinksCount:0}}Kt.sdkSpanToOtlpSpan=mD;function Vy(e,t){return{attributes:e.attributes?(0,bp.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:yi.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:yi.hexToBase64(e.context.traceId),droppedAttributesCount:0}}Kt.toOtlpLink=Vy;function ky(e){return{attributes:e.attributes?(0,bp.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,vp.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}Kt.toOtlpSpanEvent=ky});var Yy=c(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.createExportTraceServiceRequest=void 0;var ED=da(),SD=$y();function AD(e,t){return{resourceSpans:TD(e,t)}}fa.createExportTraceServiceRequest=AD;function yD(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function TD(e,t){let r=yD(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],l=a.values(),p=l.next();for(;!p.done;){let d=p.value;if(d.length>0){let{name:m,version:g,schemaUrl:S}=d[0].instrumentationLibrary,y=d.map(b=>(0,SD.sdkSpanToOtlpSpan)(b,t));u.push({scope:{name:m,version:g},spans:y,schemaUrl:S})}p=l.next()}let f={resource:{attributes:(0,ED.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(f),s=i.next()}return n}});var wp=c(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=x.NOOP_OBSERVABLE_GAUGE_METRIC=x.NOOP_OBSERVABLE_COUNTER_METRIC=x.NOOP_UP_DOWN_COUNTER_METRIC=x.NOOP_HISTOGRAM_METRIC=x.NOOP_COUNTER_METRIC=x.NOOP_METER=x.NoopObservableUpDownCounterMetric=x.NoopObservableGaugeMetric=x.NoopObservableCounterMetric=x.NoopObservableMetric=x.NoopHistogramMetric=x.NoopUpDownCounterMetric=x.NoopCounterMetric=x.NoopMetric=x.NoopMeter=void 0;var Op=class{constructor(){}createHistogram(t,r){return x.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return x.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return x.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return x.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return x.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};x.NoopMeter=Op;var Ti=class{};x.NoopMetric=Ti;var Rp=class extends Ti{add(t,r){}};x.NoopCounterMetric=Rp;var Pp=class extends Ti{add(t,r){}};x.NoopUpDownCounterMetric=Pp;var Cp=class extends Ti{record(t,r){}};x.NoopHistogramMetric=Cp;var vi=class{addCallback(t){}removeCallback(t){}};x.NoopObservableMetric=vi;var Ip=class extends vi{};x.NoopObservableCounterMetric=Ip;var Np=class extends vi{};x.NoopObservableGaugeMetric=Np;var Mp=class extends vi{};x.NoopObservableUpDownCounterMetric=Mp;x.NOOP_METER=new Op;x.NOOP_COUNTER_METRIC=new Rp;x.NOOP_HISTOGRAM_METRIC=new Cp;x.NOOP_UP_DOWN_COUNTER_METRIC=new Pp;x.NOOP_OBSERVABLE_COUNTER_METRIC=new Ip;x.NOOP_OBSERVABLE_GAUGE_METRIC=new Np;x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Mp});var xp=c(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.NOOP_METER_PROVIDER=Sn.NoopMeterProvider=void 0;var vD=wp(),Lp=class{getMeter(t,r,n){return vD.NOOP_METER}};Sn.NoopMeterProvider=Lp;Sn.NOOP_METER_PROVIDER=new Lp});var Wy=c(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0})});var zy=c(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0})});var Qy=c(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.ValueType=void 0;var bD;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(bD=bi.ValueType||(bi.ValueType={}))});var Jy=c(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0})});var eT=c(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a._globalThis=void 0;_a._globalThis=typeof globalThis=="object"?globalThis:global});var tT=c(Pr=>{"use strict";var OD=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RD=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OD(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});RD(eT(),Pr)});var rT=c(Cr=>{"use strict";var PD=Cr&&Cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CD=Cr&&Cr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&PD(t,e,r)};Object.defineProperty(Cr,"__esModule",{value:!0});CD(tT(),Cr)});var nT=c(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.API_BACKWARDS_COMPATIBILITY_VERSION=dt.makeGetter=dt._global=dt.GLOBAL_METRICS_API_KEY=void 0;var ID=rT();dt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");dt._global=ID._globalThis;function ND(e,t,r){return n=>n===e?t:r}dt.makeGetter=ND;dt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var sT=c(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.MetricsAPI=void 0;var iT=xp(),Ve=nT(),ha=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ha),this._instance}setGlobalMeterProvider(t){return Ve._global[Ve.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(Ve._global[Ve.GLOBAL_METRICS_API_KEY]=(0,Ve.makeGetter)(Ve.API_BACKWARDS_COMPATIBILITY_VERSION,t,iT.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=Ve._global[Ve.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(Ve._global,Ve.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:iT.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete Ve._global[Ve.GLOBAL_METRICS_API_KEY]}};ga.MetricsAPI=ha});var yn=c(Ne=>{"use strict";var MD=Ne&&Ne.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),An=Ne&&Ne.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&MD(t,e,r)};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.metrics=void 0;An(wp(),Ne);An(xp(),Ne);An(Wy(),Ne);An(zy(),Ne);An(Qy(),Ne);An(Jy(),Ne);var wD=sT();Ne.metrics=wD.MetricsAPI.getInstance()});var ma=c(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.AggregationTemporality=void 0;var LD;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(LD=Oi.AggregationTemporality||(Oi.AggregationTemporality={}))});var Pi=c(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.DataPointType=void 0;var xD;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(xD=Ri.DataPointType||(Ri.DataPointType={}))});var aT=c(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.ConsoleMetricExporter=void 0;var DD=ma(),BD=W(),oT=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t!=null?t:DD.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:BD.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};Ea.ConsoleMetricExporter=oT});var cT=c(uT=>{"use strict";Object.defineProperty(uT,"__esModule",{value:!0})});var It=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.setEquals=se.FlatMap=se.isPromiseAllSettledRejectionResult=se.PromiseAllSettled=se.callWithTimeout=se.TimeoutError=se.instrumentationScopeId=se.hashAttributes=se.isNotNullish=void 0;function qD(e){return e!=null}se.isNotNullish=qD;function FD(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}se.hashAttributes=FD;function UD(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}se.instrumentationScopeId=UD;var Ci=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,Ci.prototype)}};se.TimeoutError=Ci;function jD(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new Ci("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}se.callWithTimeout=jD;async function GD(e){return Promise.all(e.map(async t=>{try{let r=await t;return{status:"fulfilled",value:r}}catch(r){return{status:"rejected",reason:r}}}))}se.PromiseAllSettled=GD;function HD(e){return e.status==="rejected"}se.isPromiseAllSettledRejectionResult=HD;function VD(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}se.FlatMap=VD;function kD(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}se.setEquals=kD});var Dp=c(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.MetricReader=void 0;var lT=w(),pT=It(),dT=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t==null?void 0:t.timeoutMillis})}async shutdown(t){if(this._shutdown){lT.diag.error("Cannot call shutdown twice.");return}(t==null?void 0:t.timeoutMillis)==null?await this.onShutdown():await(0,pT.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){lT.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((t==null?void 0:t.timeoutMillis)==null){await this.onForceFlush();return}await(0,pT.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};Sa.MetricReader=dT});var mT=c(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.PeriodicExportingMetricReader=void 0;var fT=w(),_T=W(),$D=Dp(),hT=It(),gT=class extends $D.MetricReader{constructor(t){var r,n;super();if(t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&fT.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,s=>{var o;s.code!==_T.ExportResultCode.SUCCESS?i((o=s.error)!==null&&o!==void 0?o:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${s.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,hT.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof hT.TimeoutError){fT.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,_T.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};Aa.PeriodicExportingMetricReader=gT});var Ir=c(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.isDescriptorCompatibleWith=We.createInstrumentDescriptorWithView=We.createInstrumentDescriptor=We.InstrumentType=void 0;var YD=yn(),KD;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(KD=We.InstrumentType||(We.InstrumentType={}));function WD(e,t,r){var n,i,s;return{name:e,type:t,description:(n=r==null?void 0:r.description)!==null&&n!==void 0?n:"",unit:(i=r==null?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(s=r==null?void 0:r.valueType)!==null&&s!==void 0?s:YD.ValueType.DOUBLE}}We.createInstrumentDescriptor=WD;function XD(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}We.createInstrumentDescriptorWithView=XD;function zD(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}We.isDescriptorCompatibleWith=zD});var Ta=c(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.isObservableInstrument=oe.ObservableUpDownCounterInstrument=oe.ObservableGaugeInstrument=oe.ObservableCounterInstrument=oe.ObservableInstrument=oe.HistogramInstrument=oe.CounterInstrument=oe.UpDownCounterInstrument=oe.SyncInstrument=void 0;var ya=w(),QD=yn(),Ii=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=ya.context.active()){this._descriptor.valueType===QD.ValueType.INT&&!Number.isInteger(t)&&(ya.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};oe.SyncInstrument=Ii;var ET=class extends Ii{add(t,r,n){this._record(t,r,n)}};oe.UpDownCounterInstrument=ET;var ST=class extends Ii{add(t,r,n){if(t<0){ya.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};oe.CounterInstrument=ST;var AT=class extends Ii{record(t,r,n){if(t<0){ya.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};oe.HistogramInstrument=AT;var Tn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};oe.ObservableInstrument=Tn;var yT=class extends Tn{};oe.ObservableCounterInstrument=yT;var TT=class extends Tn{};oe.ObservableGaugeInstrument=TT;var vT=class extends Tn{};oe.ObservableUpDownCounterInstrument=vT;function ZD(e){return e instanceof Tn}oe.isObservableInstrument=ZD});var Bp=c(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.Meter=void 0;var ke=Ir(),vn=Ta(),bT=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,ke.createInstrumentDescriptor)(t,ke.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new vn.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,ke.createInstrumentDescriptor)(t,ke.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new vn.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,ke.createInstrumentDescriptor)(t,ke.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new vn.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,ke.createInstrumentDescriptor)(t,ke.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new vn.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,ke.createInstrumentDescriptor)(t,ke.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new vn.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,ke.createInstrumentDescriptor)(t,ke.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new vn.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};va.Meter=bT});var Oa=c(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.ExactPredicate=bn.PatternPredicate=void 0;var JD=/[\^$\\.+?()[\]{}|]/g,ba=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(ba.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(JD,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};bn.PatternPredicate=ba;var OT=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};bn.ExactPredicate=OT});var qp=c(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.InstrumentSelector=void 0;var eB=Oa(),RT=class{constructor(t){var r;this._nameFilter=new eB.PatternPredicate((r=t==null?void 0:t.name)!==null&&r!==void 0?r:"*"),this._type=t==null?void 0:t.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Ra.InstrumentSelector=RT});var Up=c(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.MeterSelector=void 0;var Fp=Oa(),PT=class{constructor(t){this._nameFilter=new Fp.ExactPredicate(t==null?void 0:t.name),this._versionFilter=new Fp.ExactPredicate(t==null?void 0:t.version),this._schemaUrlFilter=new Fp.ExactPredicate(t==null?void 0:t.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Pa.MeterSelector=PT});var Mi=c(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.AggregatorKind=void 0;var tB;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(tB=Ni.AggregatorKind||(Ni.AggregatorKind={}))});var IT=c(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.DropAggregator=void 0;var rB=Mi(),CT=class{constructor(){this.kind=rB.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,s){}};Ca.DropAggregator=CT});var MT=c(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.HistogramAggregator=On.HistogramAccumulation=void 0;var nB=Mi(),iB=Pi();function sB(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var wi=class{constructor(t,r=sB(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};On.HistogramAccumulation=wi;var NT=class{constructor(t){this._boundaries=t,this.kind=nB.AggregatorKind.HISTOGRAM}createAccumulation(){return new wi(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[u]+o[u];return new wi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new wi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:iB.DataPointType.HISTOGRAM,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};On.HistogramAggregator=NT});var LT=c(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.LastValueAggregator=Rn.LastValueAccumulation=void 0;var oB=Mi(),Li=W(),aB=Pi(),xi=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,Li.hrTime)()}toPointValue(){return this._current}};Rn.LastValueAccumulation=xi;var wT=class{constructor(){this.kind=oB.AggregatorKind.LAST_VALUE}createAccumulation(){return new xi}merge(t,r){let n=(0,Li.hrTimeToMicroseconds)(r.sampleTime)>=(0,Li.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new xi(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,Li.hrTimeToMicroseconds)(r.sampleTime)>=(0,Li.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new xi(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:aB.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Rn.LastValueAggregator=wT});var DT=c(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.SumAggregator=Pn.SumAccumulation=void 0;var uB=Mi(),cB=Pi(),Di=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};Pn.SumAccumulation=Di;var xT=class{constructor(){this.kind=uB.AggregatorKind.SUM}createAccumulation(){return new Di}merge(t,r){return new Di(t.toPointValue()+r.toPointValue())}diff(t,r){return new Di(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:cB.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Pn.SumAggregator=xT});var BT=c(ft=>{"use strict";var lB=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ia=ft&&ft.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lB(t,e,r)};Object.defineProperty(ft,"__esModule",{value:!0});Ia(IT(),ft);Ia(MT(),ft);Ia(LT(),ft);Ia(DT(),ft)});var Gp=c(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.DefaultAggregation=ye.ExplicitBucketHistogramAggregation=ye.HistogramAggregation=ye.LastValueAggregation=ye.SumAggregation=ye.DropAggregation=ye.Aggregation=void 0;var pB=w(),Bi=BT(),Cn=Ir(),Wt=class{static Drop(){return FT}static Sum(){return UT}static LastValue(){return jT}static Histogram(){return GT}static Default(){return dB}};ye.Aggregation=Wt;var In=class extends Wt{createAggregator(t){return In.DEFAULT_INSTANCE}};ye.DropAggregation=In;In.DEFAULT_INSTANCE=new Bi.DropAggregator;var Nn=class extends Wt{createAggregator(t){return Nn.DEFAULT_INSTANCE}};ye.SumAggregation=Nn;Nn.DEFAULT_INSTANCE=new Bi.SumAggregator;var Mn=class extends Wt{createAggregator(t){return Mn.DEFAULT_INSTANCE}};ye.LastValueAggregation=Mn;Mn.DEFAULT_INSTANCE=new Bi.LastValueAggregator;var wn=class extends Wt{createAggregator(t){return wn.DEFAULT_INSTANCE}};ye.HistogramAggregation=wn;wn.DEFAULT_INSTANCE=new Bi.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var qT=class extends Wt{constructor(t){super();if(t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,s)=>i-s);let r=t.lastIndexOf(-Infinity),n=t.indexOf(Infinity);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new Bi.HistogramAggregator(this._boundaries)}};ye.ExplicitBucketHistogramAggregation=qT;var jp=class extends Wt{_resolve(t){switch(t.type){case Cn.InstrumentType.COUNTER:case Cn.InstrumentType.UP_DOWN_COUNTER:case Cn.InstrumentType.OBSERVABLE_COUNTER:case Cn.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return UT;case Cn.InstrumentType.OBSERVABLE_GAUGE:return jT;case Cn.InstrumentType.HISTOGRAM:return GT}return pB.diag.warn(`Unable to recognize instrument type: ${t.type}`),FT}createAggregator(t){return this._resolve(t).createAggregator(t)}};ye.DefaultAggregation=jp;var FT=new In,UT=new Nn,jT=new Mn,GT=new wn,dB=new jp});var Vp=c(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.FilteringAttributesProcessor=Xt.NoopAttributesProcessor=Xt.AttributesProcessor=void 0;var Na=class{static Noop(){return fB}};Xt.AttributesProcessor=Na;var Hp=class extends Na{process(t,r){return t}};Xt.NoopAttributesProcessor=Hp;var HT=class extends Na{constructor(t){super();this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};Xt.FilteringAttributesProcessor=HT;var fB=new Hp});var kp=c(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.View=void 0;var _B=Gp(),hB=Vp(),VT=class{constructor(t){var r,n;this.name=t==null?void 0:t.name,this.description=t==null?void 0:t.description,this.aggregation=(r=t==null?void 0:t.aggregation)!==null&&r!==void 0?r:_B.Aggregation.Default(),this.attributesProcessor=(n=t==null?void 0:t.attributesProcessor)!==null&&n!==void 0?n:hB.AttributesProcessor.Noop()}};Ma.View=VT});var kT=c(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.ViewRegistry=void 0;var gB=qp(),mB=Up(),EB=kp(),qi=class{constructor(){this._registeredViews=[]}addView(t,r=new gB.InstrumentSelector,n=new mB.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[qi.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};wa.ViewRegistry=qi;qi.DEFAULT_VIEW=new EB.View});var $p=c(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.MetricStorage=void 0;var SB=Ir(),$T=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,SB.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};La.MetricStorage=$T});var Fi=c(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.AttributeHashMap=Ln.HashMap=void 0;var AB=It(),Yp=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r!=null||(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n!=null||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r!=null||(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};Ln.HashMap=Yp;var YT=class extends Yp{constructor(){super(AB.hashAttributes)}};Ln.AttributeHashMap=YT});var Wp=c(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.DeltaMetricProcessor=void 0;var Kp=Fi(),KT=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new Kp.AttributeHashMap,this._cumulativeMemoStorage=new Kp.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i==null||i.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let s=this._aggregator.createAccumulation();if(s==null||s.record(n),this._cumulativeMemoStorage.has(r,i)){let o=this._cumulativeMemoStorage.get(r,i);s=this._aggregator.diff(o,s)}this._cumulativeMemoStorage.set(r,s,i),this._activeCollectionStorage.set(r,s,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new Kp.AttributeHashMap,t}};xa.DeltaMetricProcessor=KT});var Xp=c(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.TemporalMetricProcessor=void 0;var WT=ma(),yB=Fi(),Ui=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,s,o){let a=s;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),l=u,p;if(this._reportHistory.has(t)){let f=this._reportHistory.get(t);a=f.collectionTime,p=f.aggregationTemporality,p===WT.AggregationTemporality.CUMULATIVE&&(l=Ui.merge(f.accumulations,u,this._aggregator))}else p=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:l,collectionTime:o,aggregationTemporality:p}),this._aggregator.toMetricData(n,p,TB(l),p===WT.AggregationTemporality.CUMULATIVE?s:a,o)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new yB.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=Ui.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let s=t,o=r.entries(),a=o.next();for(;a.done!==!0;){let[u,l,p]=a.value,f=(i=t.get(u,p))!==null&&i!==void 0?i:n.createAccumulation();s.set(u,n.merge(f,l),p),a=o.next()}return s}};Da.TemporalMetricProcessor=Ui;function TB(e){return Array.from(e.entries())}});var zT=c(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.AsyncMetricStorage=void 0;var vB=$p(),bB=Wp(),OB=Xp(),RB=Fi(),XT=class extends vB.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new bB.DeltaMetricProcessor(r),this._temporalMetricStorage=new OB.TemporalMetricProcessor(r)}record(t){let r=new RB.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Ba.AsyncMetricStorage=XT});var tv=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.getConflictResolutionRecipe=Me.getDescriptionResolutionRecipe=Me.getTypeConflictResolutionRecipe=Me.getUnitConflictResolutionRecipe=Me.getValueTypeConflictResolutionRecipe=Me.getIncompatibilityDetails=void 0;function PB(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}Me.getIncompatibilityDetails=PB;function QT(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}Me.getValueTypeConflictResolutionRecipe=QT;function ZT(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}Me.getUnitConflictResolutionRecipe=ZT;function JT(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}Me.getTypeConflictResolutionRecipe=JT;function ev(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}Me.getDescriptionResolutionRecipe=ev;function CB(e,t){return e.valueType!==t.valueType?QT(e,t):e.unit!==t.unit?ZT(e,t):e.type!==t.type?JT(e,t):e.description!==t.description?ev(e,t):""}Me.getConflictResolutionRecipe=CB});var nv=c(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.MetricStorageRegistry=void 0;var IB=Ir(),rv=w(),qa=tv(),Fa=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new Fa}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let s of n){let o=s.getInstrumentDescriptor();(0,IB.isDescriptorCompatibleWith)(o,r)?(o.description!==r.description&&(r.description.length>o.description.length&&s.updateDescription(r.description),rv.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,qa.getIncompatibilityDetails)(o,r),`The longer description will be used.
To resolve the conflict:`,(0,qa.getConflictResolutionRecipe)(o,r))),i=s):rv.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,qa.getIncompatibilityDetails)(o,r),`To resolve the conflict:
`,(0,qa.getConflictResolutionRecipe)(o,r))}return i!=null?i:(n.push(t),t)}};Ua.MetricStorageRegistry=Fa});var sv=c(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.MultiMetricStorage=void 0;var iv=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};ja.MultiMetricStorage=iv});var zp=c(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.BatchObservableResultImpl=xn.ObservableResultImpl=void 0;var ov=w(),av=yn(),uv=Fi(),NB=Ta(),cv=class{constructor(t){this._descriptor=t,this._buffer=new uv.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===av.ValueType.INT&&!Number.isInteger(t)&&(ov.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};xn.ObservableResultImpl=cv;var lv=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,NB.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new uv.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===av.ValueType.INT&&!Number.isInteger(r)&&(ov.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};xn.BatchObservableResultImpl=lv});var _v=c(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.ObservableRegistry=void 0;var MB=w(),pv=Ta(),dv=zp(),ji=It(),fv=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(pv.isObservableInstrument));if(n.size===0){MB.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(pv.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,ji.PromiseAllSettled)([...r,...n])).filter(ji.isPromiseAllSettledRejectionResult).map(o=>o.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new dv.ObservableResultImpl(n._descriptor),s=Promise.resolve(r(i));t!=null&&(s=(0,ji.callWithTimeout)(s,t)),await s,n._metricStorages.forEach(o=>{o.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new dv.BatchObservableResultImpl,s=Promise.resolve(r(i));t!=null&&(s=(0,ji.callWithTimeout)(s,t)),await s,n.forEach(o=>{let a=i._buffer.get(o);a!=null&&o._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,ji.setEquals)(n.instruments,r))}};Ga.ObservableRegistry=fv});var gv=c(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.SyncMetricStorage=void 0;var wB=$p(),LB=Wp(),xB=Xp(),hv=class extends wB.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new LB.DeltaMetricProcessor(r),this._temporalMetricStorage=new xB.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Ha.SyncMetricStorage=hv});var Sv=c(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.MeterSharedState=void 0;var mv=Ir(),DB=Bp(),Va=It(),BB=zT(),qB=nv(),FB=sv(),UB=_v(),jB=gv(),Ev=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new qB.MetricStorageRegistry,this.observableRegistry=new UB.ObservableRegistry,this.meter=new DB.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,mv.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new jB.SyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Va.isNotNullish);return n.length===1?n[0]:new FB.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,mv.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new BB.AsyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Va.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n==null?void 0:n.timeoutMillis),s=Array.from(this._metricStorageRegistry.getStorages()).map(o=>o.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(Va.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(Va.isNotNullish)},errors:i}}};ka.MeterSharedState=Ev});var yv=c($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.MeterProviderSharedState=void 0;var GB=W(),HB=It(),VB=kT(),kB=Sv(),Av=class{constructor(t){this.resource=t,this.viewRegistry=new VB.ViewRegistry,this.sdkStartTime=(0,GB.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,HB.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new kB.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};$a.MeterProviderSharedState=Av});var vv=c(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.MetricCollector=void 0;var $B=W(),YB=It(),Tv=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,$B.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,YB.FlatMap)(i,s=>s.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};Ya.MetricCollector=Tv});var Ov=c(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.MeterProvider=void 0;var Qp=w(),KB=yn(),WB=hi(),XB=yv(),zB=qp(),QB=Up(),ZB=kp(),JB=vv(),e1=Vp(),t1=Oa();function r1(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var bv=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new XB.MeterProviderSharedState((r=t==null?void 0:t.resource)!==null&&r!==void 0?r:WB.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(Qp.diag.warn("A shutdown MeterProvider cannot provide a Meter"),KB.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new JB.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(r1(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r==null?void 0:r.instrument)===null||n===void 0?void 0:n.name)==null||t1.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new e1.FilteringAttributesProcessor(t.attributeKeys));let s=new ZB.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),o=new zB.InstrumentSelector(r==null?void 0:r.instrument),a=new QB.MeterSelector(r==null?void 0:r.meter);this._sharedState.viewRegistry.addView(s,o,a)}async shutdown(t){if(this._shutdown){Qp.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){Qp.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Ka.MeterProvider=bv});var Rv=c(ae=>{"use strict";var n1=ae&&ae.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_t=ae&&ae.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&n1(t,e,r)};Object.defineProperty(ae,"__esModule",{value:!0});ae.TimeoutError=ae.InstrumentType=void 0;_t(ma(),ae);_t(Pi(),ae);_t(aT(),ae);_t(cT(),ae);_t(Dp(),ae);_t(mT(),ae);var i1=Ir();Object.defineProperty(ae,"InstrumentType",{enumerable:!0,get:function(){return i1.InstrumentType}});_t(Bp(),ae);_t(Ov(),ae);_t(zp(),ae);var s1=It();Object.defineProperty(ae,"TimeoutError",{enumerable:!0,get:function(){return s1.TimeoutError}});_t(Gp(),ae)});var Nv=c(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.toMetric=zt.toScopeMetrics=zt.toResourceMetrics=void 0;var Pv=yn(),Wa=W(),ht=Rv(),Zp=da();function o1(e){return{resource:{attributes:(0,Zp.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:Cv(e.scopeMetrics)}}zt.toResourceMetrics=o1;function Cv(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>Iv(n)),schemaUrl:t.scope.schemaUrl})))}zt.toScopeMetrics=Cv;function Iv(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=d1(e.aggregationTemporality);if(e.dataPointType===ht.DataPointType.SINGULAR){let n=u1(e),i=e.descriptor.type===ht.InstrumentType.COUNTER||e.descriptor.type===ht.InstrumentType.OBSERVABLE_COUNTER;l1(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else p1(e)&&(t.histogram={aggregationTemporality:r,dataPoints:c1(e)});return t}zt.toMetric=Iv;function a1(e,t){let r={attributes:(0,Zp.toAttributes)(e.attributes),startTimeUnixNano:(0,Wa.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Wa.hrTimeToNanoseconds)(e.endTime)};return t===Pv.ValueType.INT?r.asInt=e.value:t===Pv.ValueType.DOUBLE&&(r.asDouble=e.value),r}function u1(e){return e.dataPoints.map(t=>a1(t,e.descriptor.valueType))}function c1(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,Zp.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Wa.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Wa.hrTimeToNanoseconds)(t.endTime)}})}function l1(e){return e.descriptor.type===ht.InstrumentType.COUNTER||e.descriptor.type===ht.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===ht.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===ht.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function p1(e){return e.dataPointType===ht.DataPointType.HISTOGRAM}function d1(e){return e===ht.AggregationTemporality.DELTA?1:e===ht.AggregationTemporality.CUMULATIVE?2:0}});var Mv=c(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.createExportMetricsServiceRequest=void 0;var f1=Nv();function _1(e){return{resourceMetrics:e.map(t=>(0,f1.toResourceMetrics)(t))}}Xa.createExportMetricsServiceRequest=_1});var wv=c(we=>{"use strict";var h1=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),za=we&&we.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&h1(t,e,r)};Object.defineProperty(we,"__esModule",{value:!0});we.createExportMetricsServiceRequest=we.createExportTraceServiceRequest=void 0;za(qy(),we);za(Uy(),we);za(Gy(),we);za(Hy(),we);var g1=Yy();Object.defineProperty(we,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return g1.createExportTraceServiceRequest}});var m1=Mv();Object.defineProperty(we,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return m1.createExportMetricsServiceRequest}})});var Dv=c(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.OTLPTraceExporter=void 0;var Dn=W(),E1=Ap(),Lv=Ap(),S1=wv(),Jp="v1/traces",A1=`http://localhost:4318/${Jp}`,xv=class extends E1.OTLPExporterNodeBase{constructor(t={}){super(t);this.headers=Object.assign(this.headers,Dn.baggageUtils.parseKeyPairsIntoRecord((0,Dn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,S1.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,Dn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,Lv.appendRootPathToUrlIfNeeded)((0,Dn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,Jp):(0,Dn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,Lv.appendResourcePathToUrl)((0,Dn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,Jp):A1}};Qa.OTLPTraceExporter=xv});var Bv=c(Nr=>{"use strict";var y1=Nr&&Nr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T1=Nr&&Nr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&y1(t,e,r)};Object.defineProperty(Nr,"__esModule",{value:!0});T1(Dv(),Nr)});var qv=c(Mr=>{"use strict";var v1=Mr&&Mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b1=Mr&&Mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&v1(t,e,r)};Object.defineProperty(Mr,"__esModule",{value:!0});b1(Bv(),Mr)});var Fv=c(wr=>{"use strict";var O1=wr&&wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),R1=wr&&wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&O1(t,e,r)};Object.defineProperty(wr,"__esModule",{value:!0});R1(qv(),wr)});var N1={};ab(N1,{default:()=>I1});var xr=z(C("@yarnpkg/cli")),Re=z(C("@yarnpkg/core")),Kv=z(C("@yarnpkg/libzip")),Y=z(C("@yarnpkg/fslib")),Xe=z(C("clipanion")),ed=z(C("path"));var id=z(C("fs")),sd=async e=>{try{return(0,id.readFileSync)(e,"utf-8").split(`
`)}catch(t){return[]}};var od=z(C("path")),ad=({ignoreFile:e,cwd:t})=>(0,od.join)(t,e);var _g=z(md());var dg=z(pg()),fg=async({cwd:e})=>{try{return await(0,dg.default)("**/*",{dot:!0,cwd:e,absolute:!1})}catch(t){return[]}};var Rc=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=ad({ignoreFile:t,cwd:r}),i=(0,_g.default)().add([...e,...await sd(n)]);return(await fg({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var hg=["package.json","package.yaml","package.yml"];var bs=z(C("path")),oC={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,bs.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>hg.map(t=>(0,bs.join)(e,t))},aC=({cwd:e,rootDir:t})=>[...new Set(...[Object.values(oC).map(r=>r({cwd:e,rootDir:t})).flat()])],gg=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>aC({cwd:r,rootDir:t})).flat();var Qn=z(C("@yarnpkg/fslib")),q=z(C("typanion")),Ls=z(Nm()),yN=".yarnbuildrc.yml",sl=".bundleignore",TN=q.isObject({folders:q.isObject({input:q.isOneOf([q.isString(),q.isArray(q.isString())]),output:q.isNullable(q.isOneOf([q.isString(),q.isArray(q.isString())]))}),exclude:q.isArray(q.isString()),bail:q.isBoolean(),hideYarnBuildBadge:q.isBoolean(),ignoreFile:q.isString()}),YF=q.isObject({input:q.isOptional(q.isOneOf([q.isString(),q.isArray(q.isString())])),output:q.isOptional(q.isNullable(q.isOneOf([q.isString(),q.isArray(q.isString())]))),tsconfig:q.isOptional(q.isString())}),vN={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:sl};async function bN(e){let t=yN,r=Qn.ppath.join(e.projectCwd||e.startingCwd,t);if(Qn.xfs.existsSync(r)){let n=await Qn.xfs.readFilePromise(r,"utf8"),i=[];try{let s=(0,Ls.load)(n,{schema:Ls.JSON_SCHEMA});if(TN(s,{errors:i}))return s;console.warn(i)}catch(s){let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return vN}async function Mm(e){return await bN(e)}var Ie={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var Yv=z(w());var kv=z(w()),$v=z(wl());var Uv=z(Jo()),jv=z(hi()),Gv=z(ut()),Hv=z(Fv()),Vv=z(Jo()),Bn=z(w());process.env.DEBUG&&Bn.diag.setLogger(new Bn.DiagConsoleLogger,Bn.DiagLogLevel.DEBUG);var Za=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new Hv.OTLPTraceExporter,r=new Uv.BasicTracerProvider({resource:new jv.Resource({[Gv.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new Vv.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var Lr=z(w()),Ja=class{constructor(t){this.name=t,this._tracer=Za.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:kv.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){var o;let n;if(typeof t.ctx=="undefined"?n=Lr.context.active():n=t.ctx,!!t.propegateFromEnv||((o=t==null?void 0:t.spanOptions)==null?void 0:o.kind)==4){let a=process.env.TRACEPARENT;if(typeof a=="string"){let u=(0,$v.parseTraceParent)(a!=null?a:"");u&&(n=Lr.trace.setSpanContext(Lr.context.active(),u))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=Lr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(a){if((typeof a=="string"||a instanceof Error)&&this.recordException(i,a),!t.supressExceptions)throw a}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx=="undefined"?i=Lr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var Wv=z(w()),gt;(function(s){s.Info="YB1000",s.RemoveUnusedPackages="YB1001",s.RemoveEmptyDirectories="YB1002",s.RemoveExcluded="YB1003",s.AddedEntryPoint="YB1004"})(gt||(gt={}));var mt;(function(n){n.Start=" \u250C ",n.Progress=" \u2502 ",n.End=" \u2514 "})(mt||(mt={}));var Gi=class extends xr.BaseCommand{constructor(){super(...arguments);this.tracer=new Ja("yarn.build");this.json=Xe.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.quiet=Xe.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});this.temporaryDirectory=Xe.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});this.outputDirectory=Xe.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=Xe.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});this.archiveName=Xe.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=Xe.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=Xe.Option.String("--ignore-file",sl,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}progress({code:t,group:r,msg:n,span:i}){this.quiet!==!0&&console.info(`\u27A4 ${t}:${r}${n}`),typeof i!="undefined"&&i.addEvent(n,{[Ie.YARN_BUILD_MESSAGE_CODE]:t})}async removeUnusedPackages(t,r,n,i){return await this.tracer.startSpan({name:"remove unused packages",ctx:t},async({span:s})=>{var f;let{project:o,workspace:a}=await Re.Project.find(i,n);if(!a)throw new xr.WorkspaceRequiredError(o.cwd,n);let u=await Re.Project.find(i,r);if(!u.workspace)throw new xr.WorkspaceRequiredError(u.project.cwd,r);let l=new Set([a,u.workspace]),p=await Mm(i);this.exclude=p.exclude?[...this.exclude,...p.exclude]:this.exclude,this.ignoreFile=(f=p==null?void 0:p.ignoreFile)!=null?f:this.ignoreFile;for(let d of l)for(let m of Re.Manifest.allDependencies)for(let g of d.manifest.getForScope(m).values()){let S=o.tryWorkspaceByDescriptor(g);S!==null&&(l.add(S),this.progress({code:gt.RemoveUnusedPackages,group:mt.Progress,msg:`required:	${S.relativeCwd}`,span:s}))}for(let d of o.workspaces)l.has(d)||d.cwd!==r&&(await Y.xfs.removePromise(d.cwd),this.progress({code:gt.RemoveUnusedPackages,group:mt.Progress,msg:`unused:	${d.relativeCwd}`,span:s}))})}async removeEmptyDirectories(t,{tmpDir:r,cwd:n}){let i=Wv.trace.getSpan(t);if(!Y.xfs.statSync(n).isDirectory())return!1;let o=await Y.xfs.readdirPromise(n);for(let a of o)await this.removeEmptyDirectories(t,{tmpDir:r,cwd:Y.ppath.join(n,a)});return o=await Y.xfs.readdirPromise(n),o.length===0?(await Y.xfs.removePromise(n),this.progress({code:gt.RemoveEmptyDirectories,group:mt.Progress,msg:`empty:	${n.replace(r+"/","")}`,span:i}),!0):!1}async removeExcluded(t,{tmpDir:r,excluded:n,nonRemovableFiles:i,yarnDirectory:s,cacheDirectory:o,shouldRemoveEmptyDirectories:a=!1}){let u=`${r}/.git`;try{await Y.xfs.lstatPromise(u)&&await Y.xfs.removePromise(u)}catch(l){}await Promise.all(n.map(async l=>{if(!l.startsWith(s)&&!l.startsWith(o)&&!i.includes(l)&&!!l.startsWith(r))try{await Y.xfs.lstatPromise(l)&&await Y.xfs.removePromise(l)}catch(p){}})),a&&await this.removeEmptyDirectories(t,{tmpDir:r,cwd:r})}async execute(){return await this.tracer.startSpan({name:"yarn bundle",propegateFromEnv:!0},async({span:t,ctx:r})=>{this.progress({code:gt.Info,group:mt.Start,msg:`Prepare ${this.context.cwd} for bundling`,span:t}),this.progress({code:gt.Info,group:mt.Progress,msg:"Preparing temporary directory",span:t});let n=async i=>await this.tracer.startSpan({name:"prepare for bundle",ctx:r},async({span:s,ctx:o})=>{let a=`${this.context.cwd}`,u=Y.ppath.join(a,this.archiveName),l={[Ie.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[Ie.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[Ie.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:i,[Ie.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[Ie.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[Ie.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[Ie.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(s.setAttributes(l),typeof this.outputDirectory=="string"){let N=Xv(this.outputDirectory);if(s.setAttribute(Ie.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,N),Y.xfs.existsSync(N)||await Y.xfs.mkdirPromise(N),Y.xfs.readdirSync(N).length!=0)throw new Error(" --output-directory is not empty");u=Y.ppath.join(N,this.archiveName)}let p=await Re.Configuration.find(this.context.cwd,this.context.plugins);if(p.projectCwd===null)throw new Error("Can't find project directory");let f=a.replace(p.projectCwd,""),d=!1,m;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(m=Xv(this.outputDirectory),m.startsWith(p.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);d=!0}let g=new Y.NodeFS;this.progress({code:gt.Info,group:mt.Progress,msg:"Copying repo to temporary directory",span:s}),await this.tracer.wrap({name:"copy to tmp dir",ctx:o},async N=>Y.xfs.copyPromise(i,N,{baseFs:g}),p.projectCwd);let S=`${i}${f}`,y=`${S}/${this.archiveName}`,b=this.exclude;try{await Y.xfs.lstatPromise(y)&&b.push(y)}catch(N){}let v=await Re.Configuration.find(S,this.context.plugins);v.use("<custom>",{enableNetwork:!1},S);let V=await Re.Cache.find(v),Te=`${i}/.yarn`,L=V.cwd;this.progress({code:gt.Info,group:mt.Progress,msg:"Removing unused and excluded workspaces, folders and files",span:s}),await this.removeUnusedPackages(o,i,S,v);let{project:$,workspace:P}=await Re.Project.find(v,S);if(!P)throw new xr.WorkspaceRequiredError($.cwd,S);s.setAttributes({[Ie.PACKAGE_DIRECTORY]:f,[Ie.PACKAGE_NAME]:P.locator.name}),typeof P.locator.scope=="string"&&s.setAttribute(Ie.PACKAGE_SCOPE,`@${P.locator.scope}`);let I=await Re.Project.find(v,i);if(!I.workspace)throw new xr.WorkspaceRequiredError(I.project.cwd,i);let U=new Set([P,I.workspace]),re=gg({workspaces:U,rootDir:i});b=await Rc({cwd:i,ignoreFile:this.ignoreFile,exclude:b});for(let N of U)for(let D of Re.Manifest.allDependencies)for(let ue of N.manifest.getForScope(D).values()){let _=$.tryWorkspaceByDescriptor(ue);_!==null&&U.add(_)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:o},async()=>{for(let N of U){let D=await Rc({cwd:N.cwd,ignoreFile:this.ignoreFile,exclude:b});await this.removeExcluded(o,{tmpDir:i,excluded:D,nonRemovableFiles:re,yarnDirectory:Te,cacheDirectory:L,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:o},async()=>{await this.removeExcluded(o,{tmpDir:i,excluded:b,nonRemovableFiles:re,yarnDirectory:Te,cacheDirectory:L,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:o},async()=>{var N,D,ue,_;for(let h of $.workspaces)h.manifest.devDependencies.clear(),!U.has(h)&&(h.manifest.dependencies.clear(),h.manifest.peerDependencies.clear());if((D=(N=P==null?void 0:P.manifest)==null?void 0:N.raw)==null?void 0:D.main){let h=P.relativeCwd+ed.default.posix.sep+((_=(ue=P==null?void 0:P.manifest)==null?void 0:ue.raw)==null?void 0:_.main),ce=".pnp.cjs";Y.xfs.writeFilePromise(`${i}${ed.default.posix.sep}entrypoint.js`,P1(h,ce))}this.progress({code:gt.Info,group:mt.End,msg:"Completed",span:s})}),(await this.tracer.startSpan({name:"bundle",ctx:o},async({ctx:N})=>await Re.StreamReport.start({configuration:v,json:this.json,stdout:this.context.stdout,includeLogs:!0},async D=>{if(await this.tracer.wrap({name:"yarn install",ctx:N},async({cache:ue,report:_})=>await $.install({cache:ue,report:_}),{cache:V,report:D}),typeof this.temporaryDirectory=="undefined")if(d&&typeof m!="undefined")D.reportInfo(null,"Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:N},async({outputPath:ue,tmpDir:_})=>g.copyPromise(ue,_),{outputPath:m,tmpDir:i});else{let ue=await(0,Kv.getLibzipPromise)();D.reportInfo(null,"Creating archive");let _=new Y.ZipFS(u,{create:!0,libzip:ue});D.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:N},async({tmpDir:h,baseFs:ce})=>await _.copyPromise("/",h,{baseFs:ce}),{tmpDir:i,baseFs:g}),await this.tracer.wrap({name:"save zip",ctx:N},async()=>_.saveAndClose()),D.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:u})}}))).exitCode()});return typeof this.temporaryDirectory!="undefined"?await n(this.temporaryDirectory):await Y.xfs.mktempPromise(n)})}};Gi.paths=[["bundle"]],Gi.usage=Xe.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var zv=Gi,P1=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function Xv(e){let t=Y.npath.toPortablePath(e);return Y.ppath.resolve(t)}var C1={commands:[zv]},I1=C1;return N1;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
